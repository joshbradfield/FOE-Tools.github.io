(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{374:function(t,e){t.exports={NoAge:{key:"NoAge",index:0},BronzeAge:{key:"BronzeAge",index:1},IronAge:{key:"IronAge",index:2},EarlyMiddleAges:{key:"EarlyMiddleAges",index:3},HighMiddleAges:{key:"HighMiddleAges",index:4},LateMiddleAges:{key:"LateMiddleAges",index:5},ColonialAge:{key:"ColonialAge",index:6},IndustrialAge:{key:"IndustrialAge",index:7},ProgressiveEra:{key:"ProgressiveEra",index:8},ModernEra:{key:"ModernEra",index:9},PostmodernEra:{key:"PostmodernEra",index:10},ContemporaryEra:{key:"ContemporaryEra",index:11},Tomorrow:{key:"Tomorrow",index:12},TheFuture:{key:"TheFuture",index:13},ArcticFuture:{key:"ArcticFuture",index:14},OceanicFuture:{key:"OceanicFuture",index:15},VirtualFuture:{key:"VirtualFuture",index:16},SpaceAgeMars:{key:"SpaceAgeMars",index:17}}},381:function(t,e,r){"use strict";var o=r(21),n=r(382)(5),l=!0;"find"in[]&&Array(1).find((function(){l=!1})),o(o.P+o.F*l,"Array",{find:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),r(109)("find")},382:function(t,e,r){var o=r(52),n=r(110),l=r(51),c=r(47),m=r(383);t.exports=function(t,e){var r=1==t,d=2==t,h=3==t,f=4==t,v=6==t,_=5==t||v,$=e||m;return function(e,m,y){for(var P,x,w=l(e),C=n(w),k=o(m,y,3),N=c(C.length),I=0,S=r?$(e,N):d?$(e,0):void 0;N>I;I++)if((_||I in C)&&(x=k(P=C[I],I,w),t))if(r)S[I]=x;else if(x)switch(t){case 3:return!0;case 5:return P;case 6:return I;case 2:S.push(P)}else if(f)return!1;return v?-1:h||f?f:S}}},383:function(t,e,r){var o=r(384);t.exports=function(t,e){return new(o(t))(e)}},384:function(t,e,r){var o=r(28),n=r(294),l=r(13)("species");t.exports=function(t){var e;return n(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!n(e.prototype)||(e=void 0),o(e)&&null===(e=e[l])&&(e=void 0)),void 0===e?Array:e}},443:function(t,e,r){"use strict";r(25),r(26),r(27),r(16),r(10),r(30);var o=r(5),n={},l={},c={name:"GbListSelect",props:{current:{type:String,required:!0}},data:function(){var t=this;n=this.$store.get("foe/gbs@gbs"),l=this.$store.get("foe/gbs@gbList");var e=Object.keys(n).map((function(e){return{value:e,text:t.$t("foe_data.gb."+e)}})).sort((function(a,b){return a.text>b.text?1:b.text>a.text?-1:0}));return{i18nPrefix:"components.gb_investment.gb_list_select.",foeGBList:l,gbData:e,selected:this.$props.current,name:"",tmpName:"",id:"gbList"+this._uid}},computed:{filteredDataObj:function(){var t=this;return this.gbData.filter((function(option){return option.text.toString().toLowerCase().indexOf(t.name.toLowerCase())>=0}))},gbSelectModeDatalist:Object(o.d)("global/gbSelectMode")},watch:{selected:function(t){var e=this;t in n&&(this.$nextTick((function(){e.$data.name=""})),this.$emit("change",t))}},methods:{onSelect:function(option){option&&(this.selected=option.value)},onFocus:function(t){t.target.select()}}},m=r(14),component=Object(m.a)(c,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-field",{attrs:{"label-for":t.id}},[r("template",{slot:"label"},[r("div",{staticClass:"media"},[r("span",{staticClass:"media-content"},[t._v(t._s(t.$t(t.i18nPrefix+"label")))]),r("div",{staticClass:"media-right"},[r("b-tooltip",{staticClass:"is-hidden-touch",attrs:{type:"is-dark",label:t.$t(t.i18nPrefix+"info"),multilined:""}},[r("span",{staticClass:"icon"},[r("i",{staticClass:"far fa-question-circle"})])]),r("b-tooltip",{staticClass:"is-hidden-desktop",attrs:{type:"is-dark",label:t.$t(t.i18nPrefix+"info"),multilined:"",position:"is-left"}},[r("span",{staticClass:"icon"},[r("i",{staticClass:"far fa-question-circle"})])])],1)])]),"datalist"===t.gbSelectModeDatalist?r("b-autocomplete",{staticClass:"autocomplete",attrs:{placeholder:t.$t("foe_data.gb."+t.selected),id:t.id,"open-on-focus":!0,data:t.filteredDataObj,field:"text",expanded:""},on:{select:function(e){return t.onSelect(e)},focus:function(e){return e.preventDefault(),t.onFocus(e)}},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}):r("b-select",{attrs:{id:t.id,name:t.id,expanded:""},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},t._l(t.foeGBList,(function(e,i){return r("optgroup",{attrs:{label:t.$t("foe_data.age."+e.key)}},t._l(e.gbs,(function(e){return r("option",{domProps:{value:e}},[t._v(t._s(t.$t("foe_data.gb."+e)))])})),0)})),0)],2)}),[],!1,null,null,null);e.a=component.exports},450:function(t,e,r){"use strict";r.d(e,"b",(function(){return o})),r.d(e,"a",(function(){return n}));r(60);function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"video/mp4";return'<div style="text-align:center"><video width="320" height="410" autoplay loop muted><source src="'.concat(t,'" type="').concat(e,'" /></video></div>')}function n(t){return t.replace(/\n/g,"<br />")}},570:function(t,e,r){"use strict";r(38),r(50),r(19),r(26),r(27),r(90),r(16),r(10),r(30),r(381);var o=r(12),n=(r(25),r(4)),l=(r(31),r(37),r(3)),c=r(417),m=r(443),d=r(70),h=r(444),f=r(386),v=r(44),_=r(622),$=r.n(_);function y(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function P(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?y(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):y(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var x="components.promotion_message_builder.",w=/Default\s\d+/,C={name:"PromotionMessageBuilder",props:{gbKey:{type:String,default:$.a.key},messageInterpolation:{type:Array,default:function(){return[{key:"FLVL",value:9},{key:"TLVL",value:10},{key:"OP",value:430},{key:"LC",value:650}]}},placesInterpolationValues:{type:Array,default:function(){for(var t=[],e=[124,67,19,10,0],r=[402,402,421,421,430],i=0;i<$.a.levels[9].reward.length;i++)$.a.levels[9].reward[i]<=0||t.push([{key:"PI",value:i+1},{key:"PV",value:e[i],free:!0},{key:"PP",value:r[i]}]);return t}}},data:function(){var t=v.c,e=this.$clone(this.$store.get("global/customPromotionMessagesTemplates")),data={i18nPrefix:x,tooltips:{config:!1},action:"create",templateName:"",startFromTemplate:"",defaultTemplates:t,customTemplates:e,oldTemplateName:"",addFieldName:"",addFieldValue:"",result:{prefix:"",suffix:"",useShortGbName:!1,reversePlacesOrder:!1,placeSeparator:"",place:"",message:"",customFields:{}},errors:{templateName:{found:!1,message:""},addFieldName:{found:!1,message:""}}};return data},computed:{lang:function(){return this.$store.get("locale")},resultString:function(){return JSON.stringify(this.result)},customFields:function(){var t=this;return this.$data.result.customFields?Object.keys(this.$data.result.customFields).map((function(e){return t.$data.result.customFields[e]})):[]},placePreview:function(){return this.result.place&&this.result.place.length?v.b.call(this,this.$props.gbKey,P({displayGbName:!0},this.result,{message:this.result.place}),this.$props.placesInterpolationValues[0]):""},selectLabel:function(){return"create"===this.action?this.$t(x+"start_from_template"):"update"===this.action?this.$t(x+"edit_template"):this.$t(x+"delete_template")},resultMessage:function(){var data=P({displayGbName:!0},this.$clone(this.result));for(var t in data.customFields)data.customFields[t].value=data.customFields[t].placeholder;return this.result.message&&this.result.message.length?v.a.call(this,this.$props.gbKey,data,this.$props.messageInterpolation,this.$props.placesInterpolationValues):""}},watch:{lang:function(){null!==this.$data.result&&this.updatePromotionMessage()},templateName:function(t){t&&t.length?w.test(t)?(this.errors.templateName.found=!0,this.errors.templateName.message=this.$t(x+"errors.template_cannot_have_this_name")):(this.errors.templateName.found=!1,this.errors.templateName.message=""):(this.errors.templateName.found=!0,this.errors.templateName.message=this.$t("utils.errors.field_cannot_be_empty"))},startFromTemplate:function(t){var e=w.test(t)?this.defaultTemplates.find((function(e){return e.name===t})).config:this.customTemplates.find((function(e){return e.name===t})).config;this.result=P({customFields:{}},JSON.parse(JSON.stringify(e))),this.$data.oldTemplateName=t,"update"===this.action&&(this.$data.templateName=t)},addFieldName:function(t){Object.keys(this.$data.result.customFields).indexOf(t)>=0?(this.$data.errors.addFieldName.found=!0,this.$data.errors.addFieldName.message=this.$t(x+"errors.custom_name_already_exists")):(this.$data.errors.addFieldName.found=!1,this.$data.errors.addFieldName.message="")}},methods:{successCopy:function(t){this.tooltips[t]=!0;var e=this;setTimeout((function(){e.tooltips[t]=!1}),3e3)},getTemplateSample:function(template){return v.a.call(this,this.$props.gbKey,P({displayGbName:!0},template),this.$props.messageInterpolation,this.$props.placesInterpolationValues)},save:function(){if(!this.templateName||!this.templateName.length)return this.errors.templateName.found=!0,void(this.errors.templateName.message=this.$t("utils.errors.field_cannot_be_empty"));if(w.test(this.templateName))return this.errors.templateName.found=!0,void(this.errors.templateName.message=this.$t(x+"errors.template_cannot_have_this_name"));this.errors.templateName.found=!1,this.errors.templateName.message="";var t=this.$clone(this.$store.get("profile/profiles@[".concat(this.$store.get("global/currentProfile"),"].customPromotionMessagesTemplates")));if(t||(t=[]),"update"===this.action){var e=this.customTemplates.map((function(t){return t.name})).indexOf(this.oldTemplateName);e>=0&&(t[e]={name:this.templateName,config:this.result})}else t.push({name:this.templateName,config:this.result});this.$store.set("profile/profiles@".concat(this.$store.get("global/currentProfile"),".customPromotionMessagesTemplates"),this.$clone(t)),this.customTemplates=t,this.$store.set("promotionMessageTemplates@custom",this.$clone(this.customTemplates)),this.$buefy.notification.open({message:this.$t(x+("update"===this.action?"template_updated":"template_saved")),type:"is-success",duration:5e3})},deleteTemplate:function(){if(this.startFromTemplate&&this.startFromTemplate.length){var t=this.customTemplates.map((function(t){return t.name})).indexOf(this.startFromTemplate);this.customTemplates.splice(t,1),this.$store.set("promotionMessageTemplates@custom",this.$clone(this.customTemplates)),this.$store.set("profile/profiles@".concat(this.$store.get("global.currentProfile"),".customPromotionMessagesTemplates"),this.$clone(this.customTemplates)),this.action="create",this.$buefy.notification.open({message:this.$t(x+"template_deleted"),type:"is-success",duration:5e3})}},addCustomField:function(){if(!this.$data.addFieldName||!this.$data.addFieldName.length)return this.$data.errors.addFieldName.found=!0,void(this.$data.errors.addFieldName.message=this.$t(x+"errors.custom_name_empty"));if(Object.keys(this.$data.result.customFields).indexOf(this.$data.addFieldName)>=0)return this.$data.errors.addFieldName.found=!0,void(this.$data.errors.addFieldName.message=this.$t(x+"errors.custom_name_already_exists"));this.$data.errors.addFieldName.found=!1,this.$data.errors.addFieldName.message="";var t=P({},this.$data.result.customFields);t[this.$data.addFieldName]={key:this.$data.addFieldName,value:"",placeholder:this.$data.addFieldValue,show:!0},this.$data.result.customFields=t,this.$data.addFieldName="",this.$data.addFieldValue=""},removeCustomField:function(t){var e=P({},this.$data.result.customFields);delete e[t],this.$data.result.customFields=e},nbMultiLine:function(t){var e=t.match(/\n/gi);return e&&e.length>0?e.length+1:0},haveError:function(input){return this.$data.errors[input].found?"is-danger":""},getErrorMessage:function(input){return this.$data.errors[input].found?this.$data.errors[input].message:""}},components:{yesNo:d.a,numberinput:h.a}},k=r(14),N=Object(k.a)(C,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("h4",{staticClass:"title is-4 margin-top-one-em"},[t._v(t._s(t.$t(t.$data.i18nPrefix+"title")))]),r("p",[t._v(t._s(t.$t(t.$data.i18nPrefix+"note")))]),t.customTemplates.length?[r("div",{staticClass:"columns"},[r("div",{staticClass:"column"},[r("b-field",{attrs:{label:t.$t(t.i18nPrefix+"action")}}),r("b-field",[r("b-radio",{attrs:{"native-value":"create"},model:{value:t.action,callback:function(e){t.action=e},expression:"action"}},[t._v(t._s(t.$t(t.i18nPrefix+"actions.create")))])],1),r("b-field",[r("b-radio",{attrs:{"native-value":"update"},model:{value:t.action,callback:function(e){t.action=e},expression:"action"}},[t._v(t._s(t.$t(t.i18nPrefix+"actions.update")))])],1),r("b-field",[r("b-radio",{attrs:{"native-value":"delete"},model:{value:t.action,callback:function(e){t.action=e},expression:"action"}},[t._v(t._s(t.$t(t.i18nPrefix+"actions.delete")))])],1)],1)])]:t._e(),r("div",{staticClass:"columns"},[r("div",{staticClass:"column"},[r("b-field",{attrs:{label:t.selectLabel,"label-for":"pmbStartFromTemplate"}},[r("b-select",{attrs:{id:"pmbStartFromTemplate",name:"startFromTemplate",autocomplete:"off",expanded:""},model:{value:t.startFromTemplate,callback:function(e){t.startFromTemplate="string"==typeof e?e.trim():e},expression:"startFromTemplate"}},["create"===t.action?[r("optgroup",{attrs:{label:t.$t(t.i18nPrefix+"templates.default")}},t._l(t.defaultTemplates,(function(template){return r("option",{key:template.name,domProps:{value:template.name}},[t._v(t._s(template.name)+": "+t._s(t.getTemplateSample(template.config)))])})),0),t.customTemplates.length?r("optgroup",{attrs:{label:t.$t(t.i18nPrefix+"templates.custom")}},t._l(t.customTemplates,(function(template){return r("option",{key:template.name,domProps:{value:template.name}},[t._v(t._s(template.name)+": "+t._s(t.getTemplateSample(template.config)))])})),0):t._e()]:t._l(t.customTemplates,(function(template){return r("option",{key:template.name,domProps:{value:template.name}},[t._v(t._s(template.name)+": "+t._s(t.getTemplateSample(template.config)))])}))],2)],1)],1)]),"delete"!==t.action?[r("div",{staticClass:"columns"},[r("div",{staticClass:"column"},[r("b-field",{attrs:{"label-for":"pmbConfig"}},[r("template",{slot:"label"},[r("div",{staticClass:"media"},[r("span",{staticClass:"media-content"},[t._v(t._s(t.$t(t.i18nPrefix+"config")))]),r("div",{staticClass:"media-right"},[r("b-tooltip",{staticClass:"is-hidden-touch",attrs:{type:"is-dark",label:t.$t(t.i18nPrefix+"info"),multilined:""}},[r("span",{staticClass:"icon"},[r("i",{staticClass:"far fa-question-circle"})])]),r("b-tooltip",{staticClass:"is-hidden-desktop",attrs:{type:"is-dark",label:t.$t(t.i18nPrefix+"info"),multilined:"",position:"is-left"}},[r("span",{staticClass:"icon"},[r("i",{staticClass:"far fa-question-circle"})])])],1)])])],2),r("b-field",[r("b-input",{attrs:{id:"pmbConfig",type:"text",name:"config",autocomplete:"off",expanded:"",disabled:""},model:{value:t.resultString,callback:function(e){t.resultString="string"==typeof e?e.trim():e},expression:"resultString"}}),r("p",{staticClass:"control"},[r("b-tooltip",{attrs:{type:t.$store.get("isDarkTheme")?"is-light":"is-dark",label:t.$t("utils.Copyed"),active:t.tooltips.config,always:""}},[r("button",{directives:[{name:"clipboard",rawName:"v-clipboard",value:t.resultString,expression:"resultString"}],staticClass:"button copy",attrs:{title:t.$t("utils.Copy")},on:{success:function(e){return t.successCopy("config")}}},[r("span",{staticClass:"icon"},[r("i",{staticClass:"far fa-copy"})]),t._v("  "+t._s(t.$t("utils.Copy")))])])],1)],1)],1)]),r("div",{staticClass:"columns"},[r("div",{staticClass:"column is-half"},[r("b-field",{attrs:{label:t.$t("utils.Prefix"),"label-for":"pmbPrefix"}},[r("b-input",{attrs:{id:"pmbPrefix",type:"text",name:"prefix",autocomplete:"off",placeholder:t.$t("components.gb_investment.promotion.prefix_placeholder")},model:{value:t.result.prefix,callback:function(e){t.$set(t.result,"prefix","string"==typeof e?e.trim():e)},expression:"result.prefix"}})],1)],1),r("div",{staticClass:"column is-half"},[r("b-field",{attrs:{label:t.$t("utils.Suffix"),"label-for":"pmbSuffix"}},[r("b-input",{attrs:{id:"pmbSuffix",type:"text",name:"suffix",autocomplete:"off",placeholder:t.$t("components.gb_investment.promotion.suffix_placeholder")},model:{value:t.result.suffix,callback:function(e){t.$set(t.result,"suffix","string"==typeof e?e.trim():e)},expression:"result.suffix"}})],1)],1)]),r("div",{staticClass:"columns"},[r("div",{staticClass:"column is-half"},[r("yes-no",{attrs:{label:t.$t(t.i18nPrefix+"use_short_name")},model:{value:t.result.useShortGbName,callback:function(e){t.$set(t.result,"useShortGbName",e)},expression:"result.useShortGbName"}})],1),r("div",{staticClass:"column is-half"},[r("yes-no",{attrs:{label:t.$t(t.i18nPrefix+"reverse_place_order")},model:{value:t.result.reversePlacesOrder,callback:function(e){t.$set(t.result,"reversePlacesOrder",e)},expression:"result.reversePlacesOrder"}})],1)]),r("div",{staticClass:"columns"},[r("div",{staticClass:"column is-half"},[r("b-message",{attrs:{type:"is-info"}},[r("p",[t._v(t._s(t.$t(t.$data.i18nPrefix+"available_variables")))]),r("ul",[r("li",[r("b",[t._v("${LF}")]),t._v(": "+t._s(t.$t(t.$data.i18nPrefix+"variables.message.LF")))])])])],1),r("div",{staticClass:"column is-half"},[r("b-field",{attrs:{label:t.$t(t.i18nPrefix+"place_separator"),"label-for":"pmbPlaceSeparator"}},[r("b-input",{attrs:{id:"pmbPlaceSeparator",type:"text",name:"placeSeparator",autocomplete:"off"},model:{value:t.result.placeSeparator,callback:function(e){t.$set(t.result,"placeSeparator",e)},expression:"result.placeSeparator"}})],1)],1)]),r("h6",{staticClass:"title is-6 margin-top-one-em"},[t._v(t._s(t.$t(t.$data.i18nPrefix+"add_field_title")))]),r("div",{staticClass:"columns"},[r("div",{staticClass:"column is-half"},[r("b-field",{attrs:{label:t.$t(t.i18nPrefix+"add_field.name"),"label-for":"pmbAddFieldName",type:t.haveError("addFieldName"),message:t.getErrorMessage("addFieldName")}},[r("b-input",{attrs:{id:"pmbAddFieldName",type:"text",name:"addFieldName",autocomplete:"off"},model:{value:t.addFieldName,callback:function(e){t.addFieldName=e},expression:"addFieldName"}})],1)],1),r("div",{staticClass:"column is-half"},[r("b-field",{attrs:{label:t.$t(t.i18nPrefix+"add_field.value"),"label-for":"pmbAddFieldValue"}},[r("b-field",{attrs:{grouped:""}},[r("b-input",{attrs:{id:"pmbAddFieldValue",type:"text",name:"addFieldValue",autocomplete:"off",expanded:""},model:{value:t.addFieldValue,callback:function(e){t.addFieldValue=e},expression:"addFieldValue"}}),r("p",{staticClass:"control"},[r("button",{staticClass:"button is-info",attrs:{title:t.$t("utils.Add")},on:{click:t.addCustomField}},[r("span",{staticClass:"icon"},[r("i",{staticClass:"fas fa-plus"})]),t._v("  "+t._s(t.$t("utils.Add")))])])],1)],1)],1)]),t.customFields.length?[r("h6",{staticClass:"title is-6 margin-top-one-em"},[t._v(t._s(t.$t(t.$data.i18nPrefix+"custom_field_title")))]),r("div",{staticClass:"columns"},[r("div",{staticClass:"column is-half"},[r("b-field",{attrs:{label:t.$t(t.i18nPrefix+"add_field.name")}})],1),r("div",{staticClass:"column is-half"},[r("b-field",{attrs:{label:t.$t(t.i18nPrefix+"add_field.value")}})],1)]),t._l(t.customFields,(function(e,o){return r("div",{staticClass:"columns"},[r("div",{staticClass:"column is-half"},[r("b-field",[r("p",{staticClass:"control"},[r("b-tooltip",{attrs:{type:t.$store.get("isDarkTheme")?"is-light":"is-dark",label:t.$t("utils.Remove")}},[r("button",{staticClass:"button is-danger is-outlined",attrs:{title:t.$t("utils.Remove")},on:{click:function(r){return t.removeCustomField(e.key)}}},[r("span",{staticClass:"icon"},[r("i",{staticClass:"fas fa-trash"})])])])],1),r("b-input",{attrs:{type:"text",autocomplete:"off",expanded:""},model:{value:e.key,callback:function(r){t.$set(e,"key",r)},expression:"customField.key"}})],1)],1),r("div",{staticClass:"column is-half"},[r("b-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.placeholder,callback:function(r){t.$set(e,"placeholder",r)},expression:"customField.placeholder"}})],1)])}))]:t._e(),r("h5",{staticClass:"title is-5 margin-top-one-em"},[t._v(t._s(t.$t(t.$data.i18nPrefix+"place_builder_title")))]),r("b-message",{attrs:{type:"is-info"}},[r("p",[t._v(t._s(t.$t(t.$data.i18nPrefix+"available_variables")))]),r("ul",[r("li",[r("b",[t._v("${FLVL}")]),t._v(": "+t._s(t.$t(t.$data.i18nPrefix+"variables.message.FLVL")))]),r("li",[r("b",[t._v("${TLVL}")]),t._v(": "+t._s(t.$t(t.$data.i18nPrefix+"variables.message.TLVL")))]),r("li",[r("b",[t._v("${GBN}")]),t._v(": "+t._s(t.$t(t.$data.i18nPrefix+"variables.message.GBN")))]),r("li",[r("b",[t._v("${LF}")]),t._v(": "+t._s(t.$t(t.$data.i18nPrefix+"variables.message.LF")))]),r("li",[r("b",[t._v("${PI}")]),t._v(": "+t._s(t.$t(t.$data.i18nPrefix+"variables.place.PI")))]),r("li",[r("b",[t._v("${PV}")]),t._v(": "+t._s(t.$t(t.$data.i18nPrefix+"variables.place.PV")))]),r("li",[r("b",[t._v("${PP}")]),t._v(": "+t._s(t.$t(t.$data.i18nPrefix+"variables.place.PP")))]),t._l(t.customFields,(function(e,o){return r("li",[r("b",[t._v(t._s("${"+e.key+"}"))]),t._v(": "+t._s(e.placeholder))])}))],2)]),r("div",{staticClass:"columns"},[r("div",{staticClass:"column is-half"},[r("b-field",{attrs:{label:t.$t(t.i18nPrefix+"place_builder"),"label-for":"pmbPlaceBuilder"}},[r("b-input",{attrs:{id:"pmbPlaceBuilder",type:"text",name:"pmbPlaceBuilder",autocomplete:"off"},model:{value:t.result.place,callback:function(e){t.$set(t.result,"place","string"==typeof e?e.trim():e)},expression:"result.place"}})],1)],1),r("div",{staticClass:"column is-half"},[r("b-field",{attrs:{label:t.$t(t.i18nPrefix+"place_preview"),"label-for":"pmbPlacePreview"}},[r("b-input",{attrs:{id:"pmbPlacePreview",type:t.nbMultiLine(t.placePreview)?"textarea":"text",rows:t.nbMultiLine(t.placePreview)?t.nbMultiLine(t.placePreview):"",name:"pmbPlacePreview",autocomplete:"off",disabled:""},model:{value:t.placePreview,callback:function(e){t.placePreview="string"==typeof e?e.trim():e},expression:"placePreview"}})],1)],1)]),r("h5",{staticClass:"title is-5 margin-top-one-em"},[t._v(t._s(t.$t(t.$data.i18nPrefix+"message_builder_title")))]),r("b-message",{attrs:{type:"is-info"}},[r("p",[t._v(t._s(t.$t(t.$data.i18nPrefix+"available_variables")))]),r("ul",[r("li",[r("b",[t._v("${FLVL}")]),t._v(": "+t._s(t.$t(t.$data.i18nPrefix+"variables.message.FLVL")))]),r("li",[r("b",[t._v("${TLVL}")]),t._v(": "+t._s(t.$t(t.$data.i18nPrefix+"variables.message.TLVL")))]),r("li",[r("b",[t._v("${GBN}")]),t._v(": "+t._s(t.$t(t.$data.i18nPrefix+"variables.message.GBN")))]),r("li",[r("b",[t._v("${LF}")]),t._v(": "+t._s(t.$t(t.$data.i18nPrefix+"variables.message.LF")))]),r("li",[r("b",[t._v("${P}")]),t._v(": "+t._s(t.$t(t.$data.i18nPrefix+"variables.message.P")))]),r("li",[r("b",[t._v("${OP}")]),t._v(": "+t._s(t.$t(t.$data.i18nPrefix+"variables.message.OP")))]),r("li",[r("b",[t._v("${PPx}")]),t._v(": "+t._s(t.$t(t.$data.i18nPrefix+"variables.message.PPx")))]),r("li",[r("b",[t._v("${LC}")]),t._v(": "+t._s(t.$t(t.$data.i18nPrefix+"variables.message.LC")))]),t._l(t.customFields,(function(e,o){return r("li",[r("b",[t._v(t._s("${"+e.key+"}"))]),t._v(": "+t._s(e.placeholder))])}))],2)]),r("div",{staticClass:"columns"},[r("div",{staticClass:"column"},[r("b-field",{attrs:{label:t.$t(t.i18nPrefix+"message_builder"),"label-for":"pmbMessageBuilder"}},[r("b-input",{attrs:{id:"pmbMessageBuilder",type:"text",name:"pmbMessageBuilder",autocomplete:"off",expanded:""},model:{value:t.result.message,callback:function(e){t.$set(t.result,"message","string"==typeof e?e.trim():e)},expression:"result.message"}})],1)],1)]),r("div",{staticClass:"columns"},[r("div",{staticClass:"column"},[r("b-field",{attrs:{label:t.$t(t.i18nPrefix+"message_preview"),"label-for":"pmbMessagePreview"}},[r("b-input",{attrs:{id:"pmbMessagePreview",type:t.nbMultiLine(t.resultMessage)?"textarea":"text",rows:t.nbMultiLine(t.resultMessage)?t.nbMultiLine(t.resultMessage):"",name:"pmbMessagePreview",autocomplete:"off",expanded:"",disabled:""},model:{value:t.resultMessage,callback:function(e){t.resultMessage="string"==typeof e?e.trim():e},expression:"resultMessage"}})],1)],1)]),r("div",{staticClass:"columns"},[r("div",{staticClass:"column is-half"},[r("b-field",{attrs:{label:t.$t(t.i18nPrefix+"template_name"),"label-for":"pmbTemplateName",type:{"is-danger":t.errors.templateName.found},message:t.errors.templateName.found?t.errors.templateName.message:""}},[r("b-input",{attrs:{id:"pmbTemplateName",type:"text",name:"pmbTemplateName",autocomplete:"off"},model:{value:t.templateName,callback:function(e){t.templateName="string"==typeof e?e.trim():e},expression:"templateName"}})],1)],1),r("div",{staticClass:"column is-half"},[r("b-field",{staticClass:"has-text-centered",attrs:{label:" "}},[r("b-button",{staticClass:"is-fullwidth",attrs:{type:"is-info"},on:{click:t.save}},[t._v(t._s(t.$t("utils.Save")))])],1)],1)])]:[r("div",{staticClass:"columns"},[r("div",{staticClass:"column is-half is-offset-3"},[r("b-button",{staticClass:"is-fullwidth",attrs:{type:"is-danger"},on:{click:t.deleteTemplate}},[t._v(t._s(t.$t("utils.Remove")))])],1)])]],2)}),[],!1,null,null,null).exports,I=(r(73),r(94),r(5));function S(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function A(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?S(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):S(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var T=/Default\s\d+/,L={name:"ImportPromotionMessage",props:{gbKey:{type:String,default:$.a.key},messageInterpolation:{type:Array,default:function(){return[{key:"FLVL",value:9},{key:"TLVL",value:10},{key:"OP",value:430},{key:"LC",value:650}]}},placesInterpolationValues:{type:Array,default:function(){for(var t=[],e=[124,67,19,10,0],r=[402,402,421,421,430],i=0;i<$.a.levels[9].reward.length;i++)$.a.levels[9].reward[i]<=0||t.push([{key:"PI",value:i+1},{key:"PV",value:e[i],free:!0},{key:"PP",value:r[i]}]);return t}}},data:function(){var data={i18nPrefix:"components.import_promotion_message.",templateName:"",template:"",resultMessage:"",errors:{templateName:{found:!1,message:""},template:{found:!1,message:""}}};return data},computed:{lang:Object(I.b)("locale")},watch:{lang:function(){null!==this.$data.result&&this.updatePromotionMessage()},templateName:function(t){t&&t.length?T.test(t)?(this.errors.templateName.found=!0,this.errors.templateName.message=this.$t("components.import_promotion_message.errors.template_cannot_have_this_name")):(this.errors.templateName.found=!1,this.errors.templateName.message=""):(this.errors.templateName.found=!0,this.errors.templateName.message=this.$t("utils.errors.field_cannot_be_empty"))},template:function(t){if(!t||!t.length)return"";var template;try{template=A({prefix:"",suffix:"",useShortGbName:!1,reversePlacesOrder:!1,placeSeparator:""},JSON.parse(t))}catch(t){return this.errors.template.found=!0,void(this.errors.template.message=this.$t("components.import_promotion_message.errors.invalid_data"))}var e=Object.keys(template);if(!e.includes("message")||!e.includes("place"))return this.errors.template.found=!0,void(this.errors.template.message=this.$t("components.import_promotion_message.errors.invalid_data"));this.errors.template.found=!1,this.errors.template.message="",this.resultMessage=v.a.call(this,this.$props.gbKey,template,this.$props.messageInterpolation,this.$props.placesInterpolationValues)}},methods:{successCopy:function(t){this.tooltips[t]=!0;var e=this;setTimeout((function(){e.tooltips[t]=!1}),3e3)},save:function(){var template,t=!1;this.template&&this.template.length||(this.errors.template.found=!0,this.errors.template.found=this.$t("utils.errors.field_cannot_be_empty"),t=!0);try{template=A({prefix:"",suffix:"",useShortGbName:!1,reversePlacesOrder:!1,placeSeparator:""},JSON.parse(this.template))}catch(e){this.errors.template.found=!0,this.errors.template.message=this.$t("components.import_promotion_message.errors.invalid_data"),t=!0}var e=Object.keys(template);if(e.includes("message")&&e.includes("place")||(this.errors.template.found=!0,this.errors.template.message=this.$t("components.import_promotion_message.errors.invalid_data"),t=!0),this.errors.template.found=!1,this.errors.template.found="",this.templateName&&this.templateName.length?T.test(this.templateName)?(this.errors.templateName.found=!0,this.errors.templateName.message=this.$t("components.import_promotion_message.errors.template_cannot_have_this_name"),t=!0):(this.errors.templateName.found=!1,this.errors.templateName.message=""):(this.errors.templateName.found=!0,this.errors.templateName.message=this.$t("utils.errors.field_cannot_be_empty"),t=!0),!t){var r=this.$clone(this.$store.get("profile/profiles@[".concat(this.$store.get("global/currentProfile"),"].customPromotionMessagesTemplates")));r||(r=[]),r.push({name:this.templateName,config:template}),this.$store.set("profile/profiles@".concat(this.$store.get("global/currentProfile"),".customPromotionMessagesTemplates"),this.$clone(r)),this.$store.set("promotionMessageTemplates@custom",JSON.parse(JSON.stringify(r))),this.$buefy.notification.open({message:this.$t("components.import_promotion_message.template_imported"),type:"is-success",duration:5e3})}},nbMultiLine:function(t){var e=t.match(/\n/gi);return e&&e.length>0?e.length+1:0},haveError:function(input){return this.$data.errors[input]?"is-danger":""}},components:{yesNo:d.a,numberinput:h.a}},F=Object(k.a)(L,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("h4",{staticClass:"title is-4 margin-top-one-em"},[t._v(t._s(t.$t(t.$data.i18nPrefix+"title")))]),r("div",{staticClass:"columns"},[r("div",{staticClass:"column"},[r("b-field",{attrs:{label:t.$t("components.promotion_message_builder.config"),"label-for":"ipmConfig",type:{"is-danger":t.errors.template.found},message:t.errors.template.found?t.errors.template.message:""}},[r("b-input",{attrs:{id:"ipmConfig",type:"text",name:"config",autocomplete:"off",placeholder:t.$t(t.i18nPrefix+"config_placeholder"),expanded:""},model:{value:t.template,callback:function(e){t.template="string"==typeof e?e.trim():e},expression:"template"}})],1)],1)]),r("div",{staticClass:"columns"},[r("div",{staticClass:"column"},[r("b-field",{attrs:{label:t.$t("components.promotion_message_builder.message_preview"),"label-for":"ipmMessagePreview"}},[r("b-input",{attrs:{id:"ipmMessagePreview",type:t.nbMultiLine(t.resultMessage)?"textarea":"text",rows:t.nbMultiLine(t.resultMessage)?t.nbMultiLine(t.resultMessage):"",name:"ipmMessagePreview",autocomplete:"off",expanded:"",disabled:""},model:{value:t.resultMessage,callback:function(e){t.resultMessage="string"==typeof e?e.trim():e},expression:"resultMessage"}})],1)],1)]),r("div",{staticClass:"columns"},[r("div",{staticClass:"column is-half"},[r("b-field",{attrs:{label:t.$t("components.promotion_message_builder.template_name"),"label-for":"ipmTemplateName",type:{"is-danger":t.errors.templateName.found},message:t.errors.templateName.found?t.errors.templateName.message:""}},[r("b-input",{attrs:{id:"ipmTemplateName",type:"text",name:"ipmTemplateName",autocomplete:"off"},model:{value:t.templateName,callback:function(e){t.templateName="string"==typeof e?e.trim():e},expression:"templateName"}})],1)],1),r("div",{staticClass:"column is-half"},[r("b-field",{staticClass:"has-text-centered",attrs:{label:" "}},[r("b-button",{staticClass:"is-fullwidth",attrs:{type:"is-info",expanded:""},on:{click:t.save}},[t._v(t._s(t.$t("utils.Save")))])],1)],1)])])}),[],!1,null,null,null).exports,D=r(6),O=r(572),M=r(450),E=r(816),U=r.n(E),R=function(){return Math.random().toString(36).substring(2)},V={name:"ContentLoader",functional:!0,props:{width:{type:[Number,String],default:400},height:{type:[Number,String],default:130},speed:{type:Number,default:2},preserveAspectRatio:{type:String,default:"xMidYMid meet"},baseUrl:{type:String,default:""},primaryColor:{type:String,default:"#f9f9f9"},secondaryColor:{type:String,default:"#ecebeb"},primaryOpacity:{type:Number,default:1},secondaryOpacity:{type:Number,default:1},uniqueKey:{type:String},animate:{type:Boolean,default:!0}},render:function(t,e){var r=e.props,data=e.data,o=e.children,n=r.uniqueKey?r.uniqueKey+"-idClip":R(),l=r.uniqueKey?r.uniqueKey+"-idGradient":R();return t("svg",U()([data,{attrs:{viewBox:"0 0 "+r.width+" "+r.height,version:"1.1",preserveAspectRatio:r.preserveAspectRatio}}]),[t("rect",{style:{fill:"url("+r.baseUrl+"#"+l+")"},attrs:{"clip-path":"url("+r.baseUrl+"#"+n+")",x:"0",y:"0",width:r.width,height:r.height}}),t("defs",[t("clipPath",{attrs:{id:n}},[o||t("rect",{attrs:{x:"0",y:"0",rx:"5",ry:"5",width:r.width,height:r.height}})]),t("linearGradient",{attrs:{id:l}},[t("stop",{attrs:{offset:"0%","stop-color":r.primaryColor,"stop-opacity":r.primaryOpacity}},[r.animate?t("animate",{attrs:{attributeName:"offset",values:"-2; 1",dur:r.speed+"s",repeatCount:"indefinite"}}):null]),t("stop",{attrs:{offset:"50%","stop-color":r.secondaryColor,"stop-opacity":r.secondaryOpacity}},[r.animate?t("animate",{attrs:{attributeName:"offset",values:"-1.5; 1.5",dur:r.speed+"s",repeatCount:"indefinite"}}):null]),t("stop",{attrs:{offset:"100%","stop-color":r.primaryColor,"stop-opacity":r.primaryOpacity}},[r.animate?t("animate",{attrs:{attributeName:"offset",values:"-1; 2",dur:r.speed+"s",repeatCount:"indefinite"}}):null])])])])}};function G(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function B(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?G(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):G(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}function j(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,e){if(!t)return;if("string"==typeof t)return z(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return z(t,e)}(t))){var i=0,e=function(){};return{s:e,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o,n=!0,l=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return n=t.done,t},e:function(t){l=!0,o=t},f:function(){try{n||null==r.return||r.return()}finally{if(l)throw o}}}}function z(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}var Y,Q=/Default\s\d+/,K={level:"gbi_l",ownerInvestment:"gbi_oi",investorPercentageGlobal:"gbi_ipg",investorPercentageCustom:"gbi_p",investorParticipation:"gbi_ip",placeFree:"gbi_pFree",prefix:"gbi_px",suffix:"gbi_sx",displayGbName:"gbi_dgbn",shortName:"gbi_sn",showLevel:"gbi_sl",showPrefix:"gbi_spx",showSuffix:"gbi_ssx",showSnipe:"gbi_ss",showOnlySecuredPlaces:"gbi_sosp",yourArcBonus:"gbi_yab"},J={comparator:[">=",0],type:"float"},H={name:"GbInvestment",props:{gb:{type:Object,required:!0},canPermalink:{type:Boolean,default:!1}},data:function(){this.$store.set("promotionMessageTemplates@custom",this.$store.get("global/customPromotionMessagesTemplates"));var data={i18nPrefix:"components.gb_investment.",dataReady:!0,level:this.$clone(this.$store.get('profile/profiles@["'.concat(this.$store.get("global/currentProfile"),'"].gb[').concat(this.$route.params.gb,"].ownerView.level"))),maxLevel:this.$props.gb.levels.length,ownerInvestment:this.$clone(this.$store.get('profile/profiles@["'.concat(this.$store.get("global/currentProfile"),'"].gb[').concat(this.$route.params.gb,"].ownerView.ownerInvestment"))),investorPercentageGlobal:this.$clone(this.$store.get('profile/profiles@["'.concat(this.$store.get("global/currentProfile"),'"].gb[').concat(this.$route.params.gb,"].ownerView.investorPercentageGlobal"))),investorPercentageCustom:this.$clone(this.$store.get('profile/profiles@["'.concat(this.$store.get("global/currentProfile"),'"].gb[').concat(this.$route.params.gb,"].ownerView.investorPercentageCustom"))),investorParticipation:this.$clone(this.$store.get('profile/profiles@["'.concat(this.$store.get("global/currentProfile"),'"].gb[').concat(this.$route.params.gb,"].ownerView.investorParticipation"))),addInvestors:null,showExtraInvestors:!1,showSnipe:this.$clone(this.$store.get('profile/profiles@["'.concat(this.$store.get("global/currentProfile"),'"].showSnipe'))),placeFree:Array.from(new Array(5),(function(){return{state:!0}})),prefix:this.$clone(this.$store.get('profile/profiles@["'.concat(this.$store.get("global/currentProfile"),'"].gbPrefix'))),suffix:this.$clone(this.$store.get('profile/profiles@["'.concat(this.$store.get("global/currentProfile"),'"].gbSuffix'))),displayGbName:this.$clone(this.$store.get('profile/profiles@["'.concat(this.$store.get("global/currentProfile"),'"].displayGbName'))),shortName:this.$clone(this.$store.get('profile/profiles@["'.concat(this.$store.get("global/currentProfile"),'"].shortName'))),showLevel:this.$clone(this.$store.get('profile/profiles@["'.concat(this.$store.get("global/currentProfile"),'"].showLevel'))),showPrefix:this.$clone(this.$store.get('profile/profiles@["'.concat(this.$store.get("global/currentProfile"),'"].gbShowPrefix'))),showSuffix:this.$clone(this.$store.get('profile/profiles@["'.concat(this.$store.get("global/currentProfile"),'"].gbShowSuffix'))),yourArcBonus:this.$clone(this.$store.get('profile/profiles@["'.concat(this.$store.get("global/currentProfile"),'"].yourArcBonus'))),showOnlySecuredPlaces:this.$clone(this.$store.get('profile/profiles@["'.concat(this.$store.get("global/currentProfile"),'"].showOnlySecuredPlaces'))),displayTableCard:this.$clone(this.$store.get("global/displayTableCard")),result:null,errors:{level:!1,ownerInvestment:!1,percentageValueGlobal:!1,investorPercentageCustom_0:!1,investorPercentageCustom_1:!1,investorPercentageCustom_2:!1,investorPercentageCustom_3:!1,investorPercentageCustom_4:!1,addInvestors:!1,yourArcBonus:!1},promotionMessageTab:0,promotion:[],promotionMessageList:this.$clone(this.$store.get('profile/profiles@["'.concat(this.$store.get("global/currentProfile"),'"].promotionMessageList'))),childChange:!1,templateToAdd:"",tutoMode:!1};Object.assign(data,this.checkQuery(data.level,data.maxLevel)),Y=JSON.parse(JSON.stringify(data.investorPercentageCustom)),this.$store.commit("ADD_URL_QUERY",{key:K.level,value:data.level,ns:"gbi"}),this.$store.commit("ADD_URL_QUERY",{key:K.ownerInvestment,value:data.ownerInvestment,ns:"gbi"}),this.$store.commit("ADD_URL_QUERY",{key:K.investorPercentageGlobal,value:data.investorPercentageGlobal,ns:"gbi"}),this.$store.commit("ADD_URL_QUERY",{key:K.investorParticipation,value:JSON.stringify(data.investorParticipation),ns:"gbi"});for(var t=0;t<data.investorPercentageCustom.length;t++)this.$store.commit("ADD_URL_QUERY",{key:K.investorPercentageCustom+(t+1),value:data.investorPercentageCustom[t],ns:"gbi"});for(var e=0;e<data.placeFree.length;e++)this.$store.commit("ADD_URL_QUERY",{key:K.placeFree+(e+1),value:data.placeFree[e].state?1:0,ns:"gbi"});return this.$store.commit("ADD_URL_QUERY",{key:K.prefix,value:data.prefix,ns:"gbi"}),this.$store.commit("ADD_URL_QUERY",{key:K.suffix,value:data.suffix,ns:"gbi"}),this.$store.commit("ADD_URL_QUERY",{key:K.shortName,value:data.shortName?1:0,ns:"gbi"}),this.$store.commit("ADD_URL_QUERY",{key:K.displayGbName,value:data.displayGbName?1:0,ns:"gbi"}),this.$store.commit("ADD_URL_QUERY",{key:K.showLevel,value:data.showLevel?1:0,ns:"gbi"}),this.$store.commit("ADD_URL_QUERY",{key:K.showPrefix,value:data.showPrefix,ns:"gbi"}),this.$store.commit("ADD_URL_QUERY",{key:K.showSuffix,value:data.showSuffix,ns:"gbi"}),this.$store.commit("UPDATE_URL_QUERY",{key:K.showSnipe,value:data.showSnipe?1:0,ns:"gbi"}),this.$store.commit("ADD_URL_QUERY",{key:K.yourArcBonus,value:data.yourArcBonus,ns:"gbi"}),this.$store.commit("ADD_URL_QUERY",{key:K.showOnlySecuredPlaces,value:data.showOnlySecuredPlaces,ns:"gbi"}),data},computed:{isPermalink:Object(I.b)("isPermalink"),lang:Object(I.b)("locale"),permaLink:function(){return{name:"GbInvestment",params:{gb:this.gb.key},query:this.$store.getters.getUrlQuery("gbi")}},maxInvestment:function(){return this.$data.result&&this.$data.result.cost?this.$data.result.cost-this.investorParticipationNormalizedSum-this.ownerInvestmentNormalized:0},investorParticipationNormalizedSum:function(){return this.investorParticipationNormalized.reduce((function(i,t){return i+t.value}),0)},investorParticipationNormalized:function(){if(!(this.$data.investorParticipation instanceof Array))throw new D.g({expected:"Array",actual:Object(n.a)(this.$data.investorParticipation)});return this.$data.investorParticipation.map((function(t){return t.value=l.a.normalizeNumberValue(t.value,0),t.isPotentialSniper=!!t.isPotentialSniper,t}))},levelNormalized:function(){return l.a.normalizeNumberValue(this.$data.level,1)},ownerInvestmentNormalized:function(){return l.a.normalizeNumberValue(this.$data.ownerInvestment)},nbColumns:function(){return 6+(this.$data.showSnipe?1:0)+(this.investorParticipationNormalizedSum?2:0)},maxColumns:function(){return 9},getCustomArcBonus:function(){return l.a.normalizeNumberValue(this.$data.yourArcBonus)},promotionMessageTemplates:Object(I.b)("promotionMessageTemplates"),vueCardClass:function(){return this.$data.tutoMode?[]:["is-hidden-desktop","is-hidden-widescreen"]}},watch:{level:function(t,e){t&&"number"!=typeof t&&t.length>0?this.$data.errors.level=!0:l.a.handlerForm(this,"level",t&&0!==t.length?t:1,e,[1,this.$data.maxLevel],!this.isPermalink,'profiles@["'.concat(this.$store.get("global/currentProfile"),'"].gb.').concat(this.$route.params.gb,".ownerView.level"))===l.a.FormCheck.VALID&&(this.$store.commit("UPDATE_URL_QUERY",{key:K.level,value:t,ns:"gbi"}),this.$data.ownerInvestment=0,this.$data.showExtraInvestors=!1,this.$data.investorParticipation=[],this.$data.result={},this.showOnlySecuredPlaces||(this.$data.placeFree=Array.from(new Array(5),(function(){return{state:!0}}))),this.calculate())},ownerInvestment:function(t,e){t&&"number"!=typeof t&&t.length>0?this.$data.errors.ownerInvestment=!0:l.a.handlerForm(this,"ownerInvestment",t&&0!==t.length?t:0,e,[0,this.result.cost-this.investorParticipationNormalizedSum],!this.isPermalink,'profiles@["'.concat(this.$store.get("global/currentProfile"),'"].gb.').concat(this.$route.params.gb,".ownerView.ownerInvestment"))===l.a.FormCheck.VALID&&(this.$store.commit("UPDATE_URL_QUERY",{key:K.ownerInvestment,value:t,ns:"gbi"}),this.calculate())},addInvestors:function(t,e){null!==t&&(t&&"number"!=typeof t&&t.length>0?this.$data.errors.addInvestors=!0:l.a.handlerForm(this,"addInvestors",t&&0!==t.length?t:0,e,[1,this.maxInvestment])===l.a.FormCheck.VALID&&this.$store.commit("UPDATE_URL_QUERY",{key:K.addInvestors,value:t,ns:"gbi"}))},investorPercentageGlobal:function(t,e){if(t&&"number"!=typeof t&&t.length>0)this.$data.errors.investorPercentageGlobal=!0;else{var r=t&&0!==t.length?t:0;if(l.a.handlerForm(this,"investorPercentageGlobal",r,e,[">=",0],!this.isPermalink,'profiles@["'.concat(this.$store.get("global/currentProfile"),'"].gb.').concat(this.$route.params.gb,".ownerView.investorPercentageGlobal"),"float")===l.a.FormCheck.VALID){this.$store.commit("UPDATE_URL_QUERY",{key:K.investorPercentageGlobal,value:t,ns:"gbi"});for(var o=[],n=0;n<this.$data.investorPercentageCustom.length;n++)this.$store.commit("UPDATE_URL_QUERY",{key:K.investorPercentageCustom+(n+1),value:l.a.normalizeNumberValue(t),ns:"gbi"}),o.push(r);this.$data.investorPercentageCustom=o,this.calculate()}}},investorPercentageCustom:function(t){for(var e,r=l.a.FormCheck.VALID,o=0;o<t.length;o++)(e=l.a.handlerForm(this,"investorPercentageCustom_"+o,0===t[o].length?0:t[o],Y[o],[">=",0],!1,"","float"))===l.a.FormCheck.INVALID?r=l.a.FormCheck.INVALID:e===l.a.FormCheck.VALID&&(this.isPermalink||this.$store.set('profile/profiles@["'.concat(this.$store.get("global/currentProfile"),'"].gb.').concat(this.$route.params.gb,".ownerView.investorPercentageCustom"),this.$clone(t)),this.$store.commit("UPDATE_URL_QUERY",{key:K.investorPercentageCustom+(o+1),value:t[o],ns:"gbi"}));r===l.a.FormCheck.VALID&&(Y=JSON.parse(JSON.stringify(t)),this.calculate())},investorParticipation:function(t){this.$store.commit("UPDATE_URL_QUERY",{key:K.investorParticipation,value:JSON.stringify(t),ns:"gbi"}),this.isPermalink||this.$store.set('profile/profiles@["'.concat(this.$store.get("global/currentProfile"),'"].gb.').concat(this.$route.params.gb,".ownerView.investorParticipation"),this.$clone(t)),this.calculate()},prefix:function(t){this.$store.commit("UPDATE_URL_QUERY",{key:K.prefix,value:t,ns:"gbi"}),this.isPermalink||this.$store.set('profile/profiles@["'.concat(this.$store.get("global/currentProfile"),'"].gbPrefix'),this.$clone(t)),this.updatePromotionMessage()},suffix:function(t){this.$store.commit("UPDATE_URL_QUERY",{key:K.suffix,value:t,ns:"gbi"}),this.isPermalink||this.$store.set('profile/profiles@["'.concat(this.$store.get("global/currentProfile"),'"].gbSuffix'),this.$clone(t)),this.updatePromotionMessage()},displayGbName:function(t){this.$store.commit("UPDATE_URL_QUERY",{key:K.displayGbName,value:t?1:0,ns:"gbi"}),this.isPermalink||this.$store.set('profile/profiles@["'.concat(this.$store.get("global/currentProfile"),'"].displayGbName'),this.$clone(t)),this.updatePromotionMessage()},shortName:function(t){this.$store.commit("UPDATE_URL_QUERY",{key:K.shortName,value:t?1:0,ns:"gbi"}),this.isPermalink||this.$store.set('profile/profiles@["'.concat(this.$store.get("global/currentProfile"),'"].shortName'),this.$clone(t)),this.updatePromotionMessage()},showLevel:function(t){this.$store.commit("UPDATE_URL_QUERY",{key:K.showLevel,value:t?1:0,ns:"gbi"}),this.isPermalink||this.$store.set('profile/profiles@["'.concat(this.$store.get("global/currentProfile"),'"].showLevel'),this.$clone(t)),this.updatePromotionMessage()},showPrefix:function(t){this.$store.commit("UPDATE_URL_QUERY",{key:K.showPrefix,value:t?1:0,ns:"gbi"}),this.isPermalink||this.$store.set('profile/profiles@["'.concat(this.$store.get("global/currentProfile"),'"].gbShowPrefix'),this.$clone(t)),this.updatePromotionMessage()},showSuffix:function(t){this.$store.commit("UPDATE_URL_QUERY",{key:K.showSuffix,value:t?1:0,ns:"gbi"}),this.isPermalink||this.$store.set('profile/profiles@["'.concat(this.$store.get("global/currentProfile"),'"].gbShowSuffix'),this.$clone(t)),this.updatePromotionMessage()},showOnlySecuredPlaces:function(t){if(this.$store.commit("UPDATE_URL_QUERY",{key:K.showOnlySecuredPlaces,value:t?1:0,ns:"gbi"}),this.isPermalink||this.$store.set('profile/profiles@["'.concat(this.$store.get("global/currentProfile"),'"].showOnlySecuredPlaces'),this.$clone(t)),!t){for(var i=0;i<this.result.investment.length;i++)this.placeFree[i].state=!0;this.updatePromotionMessage()}this.updatePlaceFreeWhenOnlySecured()},showSnipe:function(t){this.$store.commit("UPDATE_URL_QUERY",{key:K.showSnipe,value:t?1:0,ns:"gbi"}),this.isPermalink||this.$store.set('profile/profiles@["'.concat(this.$store.get("global/currentProfile"),'"].showSnipe'),this.$clone(t))},yourArcBonus:function(t,e){t&&"number"!=typeof t&&t.length>0||(this.$data.change=!0,l.a.handlerForm(this,"yourArcBonus",t&&0!==t.length?t:0,e,J.comparator,!this.isPermalink,'profiles@["'.concat(this.$store.get("global/currentProfile"),'"].yourArcBonus'),"float")===l.a.FormCheck.VALID&&(this.$store.commit("UPDATE_URL_QUERY",{key:K.yourArcBonus,value:t,ns:"gbi"}),this.calculate()))},displayTableCard:function(t){this.$store.set("global/displayTableCard",this.$clone(t))},result:function(t){null!==t&&this.updatePromotionMessage()},lang:function(){null!==this.$data.result&&this.updatePromotionMessage()},promotionMessageList:{handler:function(t){this.$store.set('profile/profiles@["'.concat(this.$store.get("global/currentProfile"),'"].promotionMessageList'),this.$clone(t)),this.updatePromotionMessage()},deep:!0}},methods:{goTo:function(t){this.$router.push("/gb-investment/".concat(t,"/"))},calculate:function(){if(!(this.maxInvestment<0))try{this.$data.result=c.a.ComputeLevelInvestment(this.levelNormalized,l.a.normalizeNumberArray(this.$data.investorPercentageCustom),this.$props.gb.levels,this.investorParticipationNormalized,l.a.normalizeNumberValue(this.$data.ownerInvestment),l.a.normalizeNumberValue(this.$data.yourArcBonus)),this.updatePlaceFreeWhenOnlySecured()}catch(t){throw t}},updatePromotionMessage:function(){if(this.result&&this.result.investment){for(var t=[],e=[{key:"FLVL",value:this.level-1},{key:"TLVL",value:this.level},{key:"OP",value:this.$data.result.totalPreparations},{key:"LC",value:this.$data.result.cost}],r=[],i=0;i<this.result.investment.length;i++)!this.result.investment[i].participation||this.result.investment[i].participation<=0||r.push([{key:"PI",value:i+1},{key:"PV",value:this.result.investment[i].participation,free:this.placeFree[i].state},{key:"PP",value:this.result.investment[i].preparation}]);var o,n=j(this.$data.promotionMessageList);try{for(n.s();!(o=n.n()).done;){var l=o.value;t.push({name:l.name,message:v.a.call(this,this.gb.key,B({},l.config,{prefix:this.showPrefix?this.prefix:"",suffix:this.showSuffix?this.suffix:"",displayGbName:this.displayGbName,useShortGbName:this.shortName,showLevel:this.showLevel}),e,r),active:!1})}}catch(t){n.e(t)}finally{n.f()}this.$data.promotion=t}},successCopy:function(t){this.promotion[t].active=!0;var e=this;setTimeout((function(){e.promotion[t].active=!1}),3e3)},changePlaceFree:function(i,t){this.$data.placeFree[i].state=t,this.$store.commit("UPDATE_URL_QUERY",{key:K.placeFree+(i+1),value:t?1:0,ns:"gbi"}),this.updatePromotionMessage()},changeIsPotentialSniper:function(i,t){this.$data.investorParticipation[i].isPotentialSniper=!!t,this.$store.commit("UPDATE_URL_QUERY",{key:K.investorParticipation,value:JSON.stringify(this.$data.investorParticipation),ns:"gbi"}),this.isPermalink||this.$store.set('profile/profiles@["'.concat(this.$store.get("global/currentProfile"),'"].gb.').concat(this.$route.params.gb,".ownerView.investorParticipation"),this.$clone(this.$data.investorParticipation)),this.calculate()},checkQuery:function(t,e){var r={level:t},o=Array.apply(null,Array(5)).map((function(){return 90})),n=[],c=Array.apply(null,Array(5)).map((function(){return{state:!0}})),m=!1;this.$route.query[K.level]&&!isNaN(this.$route.query[K.level])&&l.a.inRange(parseInt(this.$route.query[K.level]),1,e)&&(m=!0,r.level=parseInt(this.$route.query[K.level])),this.$route.query[K.ownerInvestment]&&!isNaN(this.$route.query[K.ownerInvestment])&&l.a.inRange(parseInt(this.$route.query[K.ownerInvestment]),0,this.$props.gb.levels[r.level-1].cost)&&(m=!0,r.ownerInvestment=parseInt(this.$route.query[K.ownerInvestment])),this.$route.query[K.investorPercentageGlobal]&&!isNaN(this.$route.query[K.investorPercentageGlobal])&&parseFloat(this.$route.query[K.investorPercentageGlobal])>=0&&(m=!0,r.investorPercentageGlobal=parseInt(this.$route.query[K.investorPercentageGlobal]),o=Array.apply(null,Array(5)).map((function(){return r.investorPercentageGlobal})));for(var i=0;i<5;i++)if(this.$route.query[K.investorPercentageCustom+(i+1)]&&!isNaN(this.$route.query[K.investorPercentageCustom+(i+1)])&&parseFloat(this.$route.query[K.investorPercentageCustom+(i+1)])>=0&&(m=!0,o[i]=parseFloat(this.$route.query[K.investorPercentageCustom+(i+1)])),this.$route.query[K.investorParticipation]){var d=JSON.parse(this.$route.query[K.investorParticipation]);d instanceof Array&&(m=!0,n=d)}for(var h=0;h<5;h++)this.$route.query[K.placeFree+(h+1)]&&!isNaN(this.$route.query[K.placeFree+(h+1)])&&parseInt(this.$route.query[K.placeFree+(h+1)])>=0&&(m=!0,c[h].state=1===parseInt(this.$route.query[K.placeFree+(h+1)]));this.$route.query[K.prefix]&&(m=!0,r.prefix=this.$route.query[K.prefix]),this.$route.query[K.suffix]&&(m=!0,r.suffix=this.$route.query[K.suffix]),this.$route.query[K.displayGbName]&&(m=!0,r.displayGbName=!!parseInt(this.$route.query[K.displayGbName])),this.$route.query[K.shortName]&&(m=!0,r.shortName=!!parseInt(this.$route.query[K.shortName])),this.$route.query[K.showLevel]&&(m=!0,r.showLevel=!!parseInt(this.$route.query[K.showLevel])),this.$route.query[K.showPrefix]&&(m=!0,r.showPrefix=!!parseInt(this.$route.query[K.showPrefix])),this.$route.query[K.showSuffix]&&(m=!0,r.showSuffix=!!parseInt(this.$route.query[K.showSuffix])),this.$route.query[K.showSnipe]&&(m=!0,r.showSnipe=!!parseInt(this.$route.query[K.showSnipe])),this.$route.query[K.showOnlySecuredPlaces]&&(m=!0,r.showOnlySecuredPlaces=!!parseInt(this.$route.query[K.showOnlySecuredPlaces]));var f=l.a.checkFormNumeric(this.$route.query[K.yourArcBonus],-1,J.comparator,J.type);return f.state===l.a.FormCheck.VALID&&(m=!0,r.yourArcBonus=f.value),m&&(this.$store.set("isPermalink",!0),r.investorPercentageCustom=o,r.investorParticipation=n,r.placeFree=c),r},addInvestor:function(){var t=this.$data.addInvestors;t&&"number"!=typeof t&&t.length>0?this.$data.errors.addInvestors=!0:l.a.handlerForm(this,"addInvestors",t&&0!==t.length?t:0,0,[1,this.maxInvestment])===l.a.FormCheck.VALID&&(this.$data.investorParticipation.push({value:t,isPotentialSniper:!0}),this.$data.investorParticipation=this.$data.investorParticipation.sort((function(a,b){return b.value-a.value})),this.$data.addInvestors=null,this.calculate())},removePromotionMessage:function(t){this.promotionMessageList.splice(t,1),this.$store.set('profile/profiles@["'.concat(this.$store.get("global/currentProfile"),'"].promotionMessageList'),this.$clone(this.promotionMessageList)),this.promotion.splice(t,1)},getTemplateSample:function(template){if(this.result&&this.result.investment){for(var t=[{key:"FLVL",value:this.level-1},{key:"TLVL",value:this.level}],e=[],i=0;i<this.result.investment.length;i++)!this.result.investment[i].participation||this.result.investment[i].participation<=0||e.push([{key:"PI",value:i+1},{key:"PV",value:this.result.investment[i].participation,free:this.placeFree[i].state},{key:"PP",value:this.result.investment[i].preparation}]);return v.a.call(this,this.gb.key,B({},template,{prefix:this.prefix,suffix:this.suffix,displayGbName:this.displayGbName}),t,e)}},addPromotionMessageTemplate:function(){var t=this;if(this.templateToAdd&&this.templateToAdd.length){var e=Q.test(this.templateToAdd)?this.promotionMessageTemplates.default.find((function(e){return e.name===t.templateToAdd})):this.promotionMessageTemplates.custom.find((function(e){return e.name===t.templateToAdd}));e&&(this.promotionMessageList.push(JSON.parse(JSON.stringify(e))),this.$store.set('profile/profiles@["'.concat(this.$store.get("global/currentProfile"),'"].promotionMessageList'),this.$clone(this.promotionMessageList)),this.updatePromotionMessage(),this.templateToAdd="")}},removeInvestor:function(t){l.a.inRange(t,0,this.$data.investorParticipation.length-1)&&(this.$data.investorParticipation.splice(t,1),this.calculate())},haveReadTipAboutAddInvestor:function(){if(!this.$store.get("global/haveReadTipAboutAddInvestor")){var t=this;this.$buefy.snackbar.open({message:this.$t("components.gb_investment.gb_investment.form.tooltip_add_investors"),position:"is-top",actionText:this.$t("utils.Ok"),indefinite:!0,onAction:function(){t.$store.set("global/haveReadTipAboutAddInvestor",!0)}})}},switchPrefix:function(){this.showPrefix=!this.showPrefix,this.isPermalink||this.$store.set('profile/profiles@["'.concat(this.$store.get("global/currentProfile"),'"].gbShowPrefix'),this.$clone(this.showPrefix))},switchSuffix:function(){this.showSuffix=!this.showSuffix,this.isPermalink||this.$store.set('profile/profiles@["'.concat(this.$store.get("global/currentProfile"),'"].gbShowSuffix'),this.$clone(this.showSuffix))},updatePlaceFreeWhenOnlySecured:function(){if(this.showOnlySecuredPlaces){for(var i=0;i<this.result.investment.length;i++)this.placeFree[i].state=!this.result.investment[i].isInvestorParticipation&&this.result.investment[i].preparation-this.ownerInvestmentNormalized<=0;this.updatePromotionMessage()}},getSplittedCustomFields:function(t){var e=this.$data.promotionMessageList[this.$data.promotionMessageList.map((function(t){return t.name})).indexOf(t)].config.customFields,r=Object.keys(e).map((function(t){return e[t]}));return l.a.splitArray(r,2,!1)},nbMultiLine:function(t){var e=t.match(/\n/gi);return e&&e.length>0?e.length+1:0},startTour:function(){var t=this,e=new O.a.Tour({defaultStepOptions:{classes:"buefy-theme",scrollTo:!0,showCancelLink:!0,shepherdElementMaxHeight:"100%",shepherdElementMaxWidth:"100%"},classPrefix:"buefy-",useModalOverlay:!0}),r={scrollTo:{behavior:"smooth",block:"center"},canClickTarget:!1,cancelIcon:{enabled:!0},buttons:[{action:e.back,classes:"button is-info",text:this.$t("utils.Previous")},{action:e.next,classes:"button is-info is-margin-left-auto",text:this.$t("utils.Next")}]},o={rush_1_9:!1,snipe:!1},n=[{id:"rush_1_9",stepId:"rush_1_9"},{id:"snipe",stepId:"snipe"},{id:"display_modes",stepId:"display_modes",attachTo:{element:"#GBInvestmentVueMode nav",on:"bottom"}}];e.addStep(B({id:"welcomePromotionMessage",text:Object(M.a)(this.$t("components.gb_investment.tutorial.welcome"))+function(){var e,r="<div id='welcomePromotionMessage'><ul>",o=j(n);try{for(o.s();!(e=o.n()).done;){var l=e.value;r+="<li><a href='#' id='"+l.id+"'>"+t.$t("components.gb_investment.tutorial."+l.stepId+".title")+"</a></li>"}}catch(t){o.e(t)}finally{o.f()}return r+"</ul></div>"}()},r,{buttons:[{action:e.cancel,classes:"button is-link is-disabled",text:this.$t("utils.Exit")},{action:e.next,classes:"button is-info is-margin-left-auto",text:this.$t("utils.Next")}],when:{show:function(){var t,e=this,r=j(n);try{var l=function(){var r=t.value;document.getElementById(r.id).addEventListener("click",(function(t){t.preventDefault(),o[r.stepId]=!0,e.tour.next(r.stepId)}))};for(r.s();!(t=r.n()).done;)l()}catch(t){r.e(t)}finally{r.f()}}}}));for(var l=function(){var n=m[c];e.addStep(B({id:n.stepId,text:Object(M.a)(t.$t("components.gb_investment.tutorial."+n.stepId+".content")),title:t.$t("components.gb_investment.tutorial."+n.stepId+".title"),showOn:function(){return o[n.stepId]}},r,{when:{hide:function(){o[n.stepId]=!1}},attachTo:n.attachTo}))},c=0,m=n;c<m.length;c++)l();e.addStep(B({id:"gbListSelect",text:Object(M.a)(this.$t("components.gb_investment.tutorial.gb_select",{videoSelect:Object(M.b)("/video/select.mp4"),videoAutoComplete:Object(M.b)("/video/auto-complete.mp4")})),attachTo:{element:"#gbListSelect",on:"bottom"}},r)),e.addStep(B({id:"fieldId",text:Object(M.a)(this.$t("components.gb_investment.tutorial.level")),attachTo:{element:"#fieldId",on:"top"}},r)),e.addStep(B({id:"fieldInvestorPercentage",text:Object(M.a)(this.$t("components.gb_investment.tutorial.investor_percentage")),attachTo:{element:"#fieldInvestorPercentage",on:"top"}},r)),e.addStep(B({id:"fieldOwnerInvestment",text:Object(M.a)(this.$t("components.gb_investment.tutorial.owner_investment")),attachTo:{element:"#fieldOwnerInvestment",on:"top"}},r)),e.addStep(B({id:"fieldAddInvestors",text:Object(M.a)(this.$t("components.gb_investment.tutorial.add_investors")),attachTo:{element:"#fieldAddInvestors",on:"top"}},r)),e.addStep(B({id:"fieldShowSnipe",text:Object(M.a)(this.$t("components.gb_investment.tutorial.show_snipe")),attachTo:{element:"#fieldShowSnipe",on:"top"}},r)),e.addStep(B({id:"fieldYourArcBonus",text:Object(M.a)(this.$t("components.gb_investment.tutorial.your_arc_bonus")),attachTo:{element:"#fieldYourArcBonus",on:"top"}},r)),e.addStep(B({id:"fieldDisplayCard",text:Object(M.a)(this.$t("components.gb_investment.tutorial.display_card")),attachTo:{element:"#fieldDisplayCard",on:"top"}},r)),e.addStep(B({id:"gbiTable",text:Object(M.a)(this.$t("components.gb_investment.tutorial.table.message")),attachTo:{element:".gbiTable",on:"top"}},r));for(var d=0,h=[{i18nKey:"place",stepId:"thPlace",attachTo:{element:".tableDataPlace",on:"top"}},{i18nKey:"default_rewards",stepId:"thDefaultRewards",attachTo:{element:".tableDataDefaultRewards",on:"top"}},{i18nKey:"fp_to_put_by_the_owner",stepId:"thFpToPutByTheOwner",attachTo:{element:".tableDataFpToPutByTheOwner",on:"top"}},{i18nKey:"rewards_with_rate",stepId:"thRewardsWithRate",attachTo:{element:".tableDataRewardsWithRate",on:"top"}},{i18nKey:"fp_already_putin",stepId:"thNumberOfFPAlreadyIn",attachTo:{element:".tableDataNumberOfFPAlreadyIn",on:"top"}},{i18nKey:"spot_snipe",stepId:"thSpotSnipe",attachTo:{element:".tableDataSpotSnipe",on:"top"}},{i18nKey:"percentage_investors",stepId:"thPercentageInvestors",attachTo:{element:".tableDataPercentageInvestors",on:"top"}},{i18nKey:"is_sniper",stepId:"thIsSniper",attachTo:{element:".tableDataIsSniper",on:"top"}},{i18nKey:"include_in_copy_boxes",stepId:"thIncludeInCopyBoxes",attachTo:{element:".tableDataIncludeInCopyBoxes",on:"top"}}];d<h.length;d++){var f=h[d];e.addStep(B({id:f.stepId,text:Object(M.a)(this.$t("components.gb_investment.tutorial.table."+f.i18nKey)),attachTo:f.attachTo},r))}e.addStep(B({id:"giPromotionMessage",text:Object(M.a)(this.$t("components.gb_investment.tutorial.promotion_message.message")),attachTo:{element:"#giPromotionMessage",on:"top"}},r));for(var v=0,_=[{i18nKey:"tabs",stepId:"thDefaultRewards",attachTo:{element:"#giPromotionMessageTab nav",on:"top"}},{i18nKey:"prefix",stepId:"giPrefix",attachTo:{element:"#pmPrefix",on:"top"}},{i18nKey:"suffix",stepId:"giSuffix",attachTo:{element:"#pmSuffix",on:"top"}},{i18nKey:"display_gb_name",stepId:"pmDisplayGbName",attachTo:{element:"#pmDisplayGbName",on:"top"}},{i18nKey:"use_short_name",stepId:"pmShortName",attachTo:{element:"#pmShortName",on:"top"}},{i18nKey:"show_level",stepId:"pmShowLevel",attachTo:{element:"#pmShowLevel",on:"top"}},{i18nKey:"show_only_secured_places",stepId:"pmShowOnlySecuredPlaces",attachTo:{element:"#pmShowOnlySecuredPlaces",on:"top"}},{i18nKey:"custom_fields",stepId:"pmCustomField",attachTo:{element:".custom_field",on:"top"}}];v<_.length;v++){var $=_[v];e.addStep(B({id:$.stepId,text:Object(M.a)(this.$t("components.gb_investment.tutorial.promotion_message."+$.i18nKey)),attachTo:$.attachTo},r))}e.addStep(B({id:"pmAddMessage",text:Object(M.a)(this.$t("components.gb_investment.tutorial.promotion_message.add_message")),attachTo:{element:"#pmAddMessage",on:"top"}},r,{buttons:[{action:e.back,classes:"button is-info",text:this.$t("utils.Previous")},{action:e.next,classes:"button is-link is-margin-left-auto",text:this.$t("utils.Done")}]}));var y=this;e.on("cancel",(function(){y.$data.tutoMode=!1})),e.on("complete",(function(){y.$data.tutoMode=!1})),this.$data.tutoMode=!0,e.start()},haveError:function(input){return this.$data.errors[input]?"is-danger":""}},mounted:function(){this.calculate()},components:{securePosition:f.a,gbListSelect:m.a,yesNo:d.a,numberinput:h.a,PromotionMessageBuilder:N,ImportPromotionMessage:F,ContentLoader:V}},W=Object(k.a)(H,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"content",attrs:{id:"gbiContent"}},[r("div",{staticClass:"columns"},[r("div",{staticClass:"column is-half"},[r("div",{staticClass:"field"},[r("h3",{staticClass:"title is-3"},[t._v(t._s(t.$t("foe_data.gb."+t.gb.key)))])]),r("div",{staticClass:"field",attrs:{id:"gbListSelect"}},[r("gb-list-select",{attrs:{current:t.gb.key},on:{change:function(e){return t.goTo(e)}}})],1)]),r("div",{staticClass:"column is-half"},[r("div",{directives:[{name:"show",rawName:"v-show",value:t.canPermalink,expression:"canPermalink"}],staticClass:"field"},[r("nuxt-link",{staticClass:"level-right",attrs:{id:"permalink",to:t.permaLink,exact:""}},[r("span",{staticClass:"icon"},[r("i",{staticClass:"fas fa-link"})]),t._v(" "+t._s(t.$t("utils.permalink")))])],1),r("div",{staticClass:"field",staticStyle:{"text-align":"right !important"}},[r("div",{staticClass:"content"},[r("a",{staticClass:"is-text has-text-white",on:{click:function(e){return e.preventDefault(),t.startTour(e)}}},[r("article",{staticClass:"tutorial-button",staticStyle:{display:"inline-block"}},[r("i",{staticClass:"fas fa-question fa-2x"}),r("span",{staticClass:"has-text-centered"},[r("br"),t._v(" "+t._s(t.$t("utils.Tutorial")))])])])])])])]),t.dataReady?[r("h4",{staticClass:"title is-4"},[t._v(t._s(t.$t(t.$data.i18nPrefix+"gb_investment.title")))]),r("p",[t._v(t._s(t.$t(t.$data.i18nPrefix+"gb_investment.description.p1")))]),r("div",{staticClass:"columns form-short"},[r("div",{staticClass:"column is-half"},[r("b-field",{attrs:{id:"fieldId",label:t.$t(t.i18nPrefix+"gb_investment.form.level",{level:t.levelNormalized,fromLevel:t.levelNormalized-1,min:1,max:t.maxLevel}),"label-for":"giLevel",type:t.haveError("level")}},[r("numberinput",{attrs:{id:"giLevel","controls-position":"compact",type:t.$store.get("isDarkTheme")?"is-light":"is-dark",min:"1",max:t.maxLevel,name:"level",autocomplete:"off",autofocus:t.canPermalink,expanded:""},model:{value:t.level,callback:function(e){t.level=t._n(e)},expression:"level"}})],1)],1),r("div",{staticClass:"column is-half",attrs:{id:"fieldInvestorPercentage"}},[r("b-field",{attrs:{label:t.$t(t.i18nPrefix+"gb_investment.form.investor_percentage"),"label-for":"giInvestorPercentageGlobal",type:t.haveError("investorPercentageGlobal")}},[r("numberinput",{attrs:{id:"giInvestorPercentageGlobal","controls-position":"compact",type:t.$store.get("isDarkTheme")?"is-light":"is-dark",min:"0",step:"0.1",name:"investorPercentageGlobal",autocomplete:"off",expanded:""},model:{value:t.investorPercentageGlobal,callback:function(e){t.investorPercentageGlobal=t._n(e)},expression:"investorPercentageGlobal"}})],1)],1)]),null!==t.result?r("div",{staticClass:"columns form-short"},[r("div",{staticClass:"column is-half",attrs:{id:"fieldOwnerInvestment"}},[r("b-field",{attrs:{label:t.$t(t.i18nPrefix+"gb_investment.form.owner_investment",{max:t.result.cost-t.investorParticipationNormalizedSum}),"label-for":"giOwnerInvestment",type:t.haveError("ownerInvestment")}},[r("numberinput",{attrs:{id:"giOwnerInvestment","controls-position":"compact",type:t.$store.get("isDarkTheme")?"is-light":"is-dark",min:"0",max:t.result.cost-t.investorParticipationNormalizedSum,name:"ownerInvestment",autocomplete:"off",expanded:""},model:{value:t.ownerInvestment,callback:function(e){t.ownerInvestment=t._n(e)},expression:"ownerInvestment"}})],1)],1),r("div",{staticClass:"column is-half"},[r("b-field",{attrs:{id:"fieldAddInvestors",label:t.$t(t.i18nPrefix+"gb_investment.form.add_investors",{min:1,max:t.maxInvestment}),"label-for":"giAddInvestors"}},[r("b-field",{attrs:{type:t.haveError("addInvestors")}},[r("b-input",{attrs:{id:"giAddInvestors",type:"number",min:"1",max:t.maxInvestment,name:"addInvestors",autocomplete:"off",expanded:"",disabled:t.maxInvestment<=0},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addInvestor(e)},click:function(e){return t.haveReadTipAboutAddInvestor(e)}},model:{value:t.addInvestors,callback:function(e){t.addInvestors=t._n(e)},expression:"addInvestors"}}),r("p",{staticClass:"control"},[r("button",{staticClass:"button is-info",attrs:{title:t.$t("utils.Add"),disabled:t.maxInvestment<=0},on:{click:t.addInvestor}},[r("span",{staticClass:"icon"},[r("i",{staticClass:"fas fa-plus"})]),t._v("  "+t._s(t.$t("utils.Add")))])])],1)],1)],1)]):t._e(),null!==t.result?r("div",{staticClass:"columns form-short"},[t.investorParticipation.length>0?r("div",{staticClass:"column"},[r("b-field",{attrs:{label:t.$t(t.i18nPrefix+"gb_investment.form.investors_list")}}),r("b-field",{attrs:{grouped:"","group-multiline":""}},t._l(t.investorParticipation,(function(e,o){return r("div",{staticClass:"control"},[r("b-tag",{attrs:{type:isNaN(e.value)?"is-danger":"is-primary",attached:"",closable:"",size:"is-medium"},on:{close:function(e){return t.removeInvestor(o)}}},[t._v(t._s(e.value))])],1)})),0)],1):t._e()]):t._e(),r("div",{staticClass:"columns",staticStyle:{"margin-top":"0.5rem !important"}},[r("div",{staticClass:"column is-half"},[r("yes-no",{attrs:{id:"fieldShowSnipe",label:t.$t(t.i18nPrefix+"gb_investment.form.show_snipe")},model:{value:t.showSnipe,callback:function(e){t.showSnipe=e},expression:"showSnipe"}})],1),t.showSnipe||t.tutoMode?r("div",{staticClass:"column is-half",attrs:{id:"fieldYourArcBonus"}},[r("b-field",{attrs:{label:t.$t("components.secure_position.block_place.your_arc_bonus"),"label-for":"giYourArcBonus",type:t.haveError("yourArcBonus")}},[r("numberinput",{attrs:{id:"giYourArcBonus","controls-position":"compact",type:t.$store.get("isDarkTheme")?"is-light":"is-dark",min:"0",step:"0.1",name:"your-arc-bonus",autocomplete:"off",expanded:""},model:{value:t.yourArcBonus,callback:function(e){t.yourArcBonus=t._n(e)},expression:"yourArcBonus"}})],1)],1):t._e()]),r("div",{staticClass:"columns",class:t.vueCardClass},[r("div",{staticClass:"column is-half"},[r("yes-no",{attrs:{id:"fieldDisplayCard",label:t.$t(t.i18nPrefix+"gb_investment.form.display_card")},model:{value:t.displayTableCard,callback:function(e){t.displayTableCard=e},expression:"displayTableCard"}})],1)]),null!==t.result?r("div",{staticClass:"table-wrapper"},[r("table",{staticClass:"table is-bordered is-striped is-narrow is-fullwidth gbiTable",class:t.displayTableCard?"is-hidden-touch":""},[r("thead",[r("tr",[r("th",{staticClass:"has-text-centered",attrs:{colspan:t.tutoMode?t.maxColumns:t.nbColumns}},[r("p",[t._v(t._s(t.$t(t.$data.i18nPrefix+"gb_investment.table.title",{gb_key:"foe_data.gb."+t.gb.key,level:t.result.level,fromLevel:t.result.level-1})))])])]),t.investorParticipationNormalizedSum||t.ownerInvestmentNormalized?r("tr",[r("th",{staticClass:"has-text-centered",attrs:{colspan:t.tutoMode?t.maxColumns:t.nbColumns}},[r("progress",{staticClass:"progress is-success",staticStyle:{"margin-bottom":"0"},attrs:{max:t.result.cost},domProps:{value:t.investorParticipationNormalizedSum+t.ownerInvestmentNormalized}}),r("p",[t._v(t._s(t.$formatNumber(t.investorParticipationNormalizedSum+t.ownerInvestmentNormalized)+"/"+t.$formatNumber(t.result.cost))+" ("+t._s(t.$formatNumber(t.result.cost-(t.investorParticipationNormalizedSum+t.ownerInvestmentNormalized)))+")")])])]):t._e(),r("tr",[r("th",{staticClass:"tableDataPlace"},[t._v(t._s(t.$t(t.$data.i18nPrefix+"gb_investment.table.thead.th1")))]),r("th",{staticClass:"tableDataDefaultRewards"},[t._v(t._s(t.$t(t.$data.i18nPrefix+"gb_investment.table.thead.th2")))]),r("th",{staticClass:"tableDataFpToPutByTheOwner"},[t._v(t._s(t.$t(t.$data.i18nPrefix+"gb_investment.table.thead.th3")))]),r("th",{staticClass:"tableDataRewardsWithRate"},[t._v(t._s(t.$t(t.$data.i18nPrefix+"gb_investment.table.thead.th4")))]),t.investorParticipationNormalizedSum||t.tutoMode?r("th",{staticClass:"tableDataNumberOfFPAlreadyIn"},[t._v(t._s(t.$t(t.$data.i18nPrefix+"gb_investment.table.thead.fp_already_putin")))]):t._e(),r("th",{directives:[{name:"show",rawName:"v-show",value:t.showSnipe||t.tutoMode,expression:"showSnipe|| tutoMode"}],staticClass:"tableDataSpotSnipe"},[t._v(t._s(t.$t(t.$data.i18nPrefix+"gb_investment.table.thead.spot_snipe")))]),r("th",{staticClass:"tableDataPercentageInvestors"},[t._v(t._s(t.$t(t.$data.i18nPrefix+"gb_investment.table.thead.th5")))]),r("th",{directives:[{name:"show",rawName:"v-show",value:t.investorParticipationNormalizedSum||t.tutoMode,expression:"investorParticipationNormalizedSum|| tutoMode"}],staticClass:"tableDataIsSniper"},[t._v(t._s(t.$t(t.$data.i18nPrefix+"gb_investment.table.thead.is_sniper")))]),r("th",{staticClass:"tableDataIncludeInCopyBoxes",attrs:{width:"100px"}},[t._v(t._s(t.$t(t.$data.i18nPrefix+"gb_investment.table.thead.th6")))])])]),r("tbody",[t._l(t.result.investment,(function(e,i){return r("tr",[r("td",{staticClass:"has-text-right"},[t._v(t._s(t.$formatNumber(i+1)))]),r("td",{staticClass:"has-text-right"},[t._v(t._s(t.$formatNumber(e.reward)))]),r("td",{staticClass:"has-text-right"},[e.preparation>0&&t.ownerInvestmentNormalized>0?r("p",[t._v(t._s(t.$formatNumber(e.preparation))+" ("),e.preparation-t.ownerInvestmentNormalized>0?[r("b-tooltip",{attrs:{type:t.$store.get("isDarkTheme")?"is-light":"is-dark",label:t.$t(t.i18nPrefix+"gb_investment.table.tbody.tooltip_owner_investment"),dashed:""}},[r("span",{staticClass:"has-text-danger"},[t._v(t._s(t.$formatNumber(e.preparation-t.ownerInvestmentNormalized)))])])]:[r("span",{staticClass:"has-text-success"},[t._v(t._s(t.$t("utils.Secured")))])],t._v(")")],2):r("p",[t._v(t._s(t.$formatNumber(e.preparation))),0===e.preparation?[t._v(" ("),r("span",{staticClass:"has-text-success"},[t._v(t._s(t.$t("utils.Secured")))]),t._v(")")]:t._e()],2)]),r("td",{staticClass:"has-text-right"},[r("p",[t._v(t._s(t.$formatNumber(e.expectedParticipation)))])]),t.investorParticipationNormalizedSum||t.tutoMode?r("td",{staticClass:"has-text-right",attrs:{width:"150px"}},[e.isInvestorParticipation?[r("p",[t._v(t._s(t.$formatNumber(e.participation))+" ("),e.roi>0?[t._m(0,!0),r("b-tooltip",{attrs:{type:t.$store.get("isDarkTheme")?"is-light":"is-dark",label:t.$t(t.i18nPrefix+"gb_investment.table.tbody.profit",{count:Math.abs(e.roi)}),dashed:""}},[t._v(t._s(t.$formatNumber(Math.abs(e.roi))))])]:e.roi<0?[t._m(1,!0),r("b-tooltip",{attrs:{type:t.$store.get("isDarkTheme")?"is-light":"is-dark",label:t.$t(t.i18nPrefix+"gb_investment.table.tbody.loss",{count:Math.abs(e.roi)}),dashed:""}},[t._v(t._s(t.$formatNumber(Math.abs(e.roi))))])]:r("b-tooltip",{attrs:{type:t.$store.get("isDarkTheme")?"is-light":"is-dark",label:t.$t(t.i18nPrefix+"gb_investment.table.tbody.neutral"),dashed:""}},[r("span",{staticClass:"icon is-small",staticStyle:{"vertical-align":"middle"}},[r("i",{staticClass:"fas fa-exchange-alt"})])]),t._v(")")],2)]:[r("p",[t._v("0"),e.participation>0?[t._v(" ("),r("b-tooltip",{attrs:{type:t.$store.get("isDarkTheme")?"is-light":"is-dark",label:t.$t(t.i18nPrefix+"gb_investment.table.tbody.tooltip_expected_investment"),dashed:""}},[t._v(t._s(t.$formatNumber(e.participation)))]),t._v(")")]:t._e()],2)]],2):t._e(),r("td",{directives:[{name:"show",rawName:"v-show",value:t.showSnipe||t.tutoMode,expression:"showSnipe|| tutoMode"}],staticClass:"has-text-right",attrs:{width:"110px"}},[-1===e.snipe.fp?[t._m(2,!0)]:e.snipe.fp>0?r("p",{staticClass:"snipe fp"},[t._v(t._s(t.$formatNumber(e.snipe.fp))+" ("),e.snipe.roi>0?[t._m(3,!0),r("b-tooltip",{attrs:{type:t.$store.get("isDarkTheme")?"is-light":"is-dark",label:t.$t(t.i18nPrefix+"gb_investment.table.tbody.profit",{count:Math.abs(e.roi)}),dashed:""}},[t._v(t._s(t.$formatNumber(Math.abs(e.snipe.roi))))])]:e.snipe.roi<0?[t._m(4,!0),r("b-tooltip",{attrs:{type:t.$store.get("isDarkTheme")?"is-light":"is-dark",label:t.$t(t.i18nPrefix+"gb_investment.table.tbody.loss",{count:Math.abs(e.roi)}),dashed:""}},[t._v(t._s(t.$formatNumber(Math.abs(e.snipe.roi))))])]:r("b-tooltip",{attrs:{type:t.$store.get("isDarkTheme")?"is-light":"is-dark",label:t.$t(t.i18nPrefix+"gb_investment.table.tbody.neutral"),dashed:""}},[r("span",{staticClass:"icon is-small",staticStyle:{"vertical-align":"middle"}},[r("i",{staticClass:"fas fa-exchange-alt"})])]),t._v(")")],2):t._e()],2),r("td",[r("b-field",{attrs:{type:t.haveError("investorPercentageCustom_"+i)}},[r("b-input",{attrs:{type:"number",min:"0",step:"0.1",name:"investorPercentageCustom_"+i,autocomplete:"off"},model:{value:t.investorPercentageCustom[i],callback:function(e){t.$set(t.investorPercentageCustom,i,t._n(e))},expression:"investorPercentageCustom[i]"}})],1)],1),r("td",{directives:[{name:"show",rawName:"v-show",value:t.investorParticipation.length>0||t.tutoMode,expression:"investorParticipation.length > 0 || tutoMode"}]},[e.defaultParticipationIndex>=0?[r("b-switch",{attrs:{value:t.investorParticipation[e.defaultParticipationIndex].isPotentialSniper,type:"is-info"},on:{input:function(r){return t.changeIsPotentialSniper(e.defaultParticipationIndex,r)}}},[t._v(t._s(t.investorParticipation[e.defaultParticipationIndex].isPotentialSniper?t.$t("utils.Yes"):t.$t("utils.No")))])]:t._e()],2),r("td",[r("b-switch",{attrs:{value:t.placeFree[i].state,type:"is-info"},on:{input:function(e){return t.changePlaceFree(i,e)}}},[t._v(t._s(t.placeFree[i].state?t.$t("utils.Yes"):t.$t("utils.No")))])],1)])})),t.result.otherInvestment.length&&t.showExtraInvestors||t.tutoMode?t._l(t.result.otherInvestment,(function(e,i){return r("tr",[r("td",{staticClass:"has-text-right"},[t._v(t._s(t.$formatNumber(i+t.result.investment.length+1)))]),r("td",{attrs:{colspan:"3"}}),r("td",{staticClass:"has-text-right"},[e.isInvestorParticipation?[r("p",[t._v(t._s(t.$formatNumber(e.participation)))])]:[r("p",[t._v("0"),e.participation>0?[t._v(" ("),r("b-tooltip",{attrs:{type:t.$store.get("isDarkTheme")?"is-light":"is-dark",label:t.$t(t.i18nPrefix+"gb_investment.table.tbody.tooltip_expected_investment"),dashed:""}},[t._v(t._s(t.$formatNumber(e.participation)))]),t._v(")")]:t._e()],2)]],2),r("td",{attrs:{colspan:t.nbColumns-7}}),r("td",[r("b-switch",{attrs:{value:t.investorParticipation[e.defaultParticipationIndex].isPotentialSniper,type:"is-info"},on:{input:function(r){return t.changeIsPotentialSniper(e.defaultParticipationIndex,r)}}},[t._v(t._s(t.investorParticipation[e.defaultParticipationIndex].isPotentialSniper?t.$t("utils.Yes"):t.$t("utils.No")))])],1),r("td")])})):t._e()],2),r("tfoot",[t.result.otherInvestment.length?r("tr",[r("th",{staticClass:"has-text-centered",attrs:{colspan:t.tutoMode?t.maxColumns:t.nbColumns}},[r("p",{staticClass:"control has-text-centered"},[t.showExtraInvestors?r("button",{staticClass:"button is-info",on:{click:function(e){t.showExtraInvestors=!1}}},[t._m(6),t._v("   "+t._s(t.$t(t.i18nPrefix+"gb_investment.table.tbody.button_hide_extra_investor",{count:t.result.otherInvestment.length})))]):r("button",{staticClass:"button is-info",on:{click:function(e){t.showExtraInvestors=!0}}},[t._m(5),t._v("   "+t._s(t.$t(t.i18nPrefix+"gb_investment.table.tbody.button_show_extra_investor",{count:t.result.otherInvestment.length})))])])])]):t._e(),r("tr",[r("th",{attrs:{colspan:t.tutoMode?t.maxColumns-1:t.nbColumns-1}},[t._v(t._s(t.$t(t.$data.i18nPrefix+"gb_investment.table.tfoot.total_preparation")))]),r("td",[r("p",{staticClass:"level-right"},[t._v(t._s(t.$formatNumber(t.result.totalPreparations))),t.ownerInvestmentNormalized>0&&t.result.totalPreparations-t.ownerInvestmentNormalized>0?[t._v(" ("),r("b-tooltip",{attrs:{type:t.$store.get("isDarkTheme")?"is-light":"is-dark",label:t.$t(t.i18nPrefix+"gb_investment.table.tfoot.tooltip_owner_investment"),position:"is-left",dashed:""}},[r("span",{staticClass:"has-text-danger"},[t._v(t._s(t.$formatNumber(t.result.totalPreparations-t.ownerInvestmentNormalized)))])]),t._v(")")]:t._e()],2)])]),r("tr",[r("th",{attrs:{colspan:t.tutoMode?t.maxColumns-1:t.nbColumns-1}},[t._v(t._s(t.$t(t.$data.i18nPrefix+"gb_investment.table.tfoot.level_cost")))]),r("td",[r("p",{staticClass:"level-right"},[t._v(t._s(t.$formatNumber(t.result.cost)))])])])])])]):t._e(),null!==t.result&&t.displayTableCard?r("div",{staticClass:"is-hidden-desktop is-hidden-widescreen"},[r("div",{staticClass:"table-wrapper"},[r("table",{staticClass:"table has-table-cards gbiTable"},[r("thead",[r("tr",[r("th",{staticClass:"has-text-centered",attrs:{colspan:2}},[r("p",[t._v(t._s(t.$t(t.$data.i18nPrefix+"gb_investment.table.title",{gb_key:"foe_data.gb."+t.gb.key,level:t.result.level,fromLevel:t.result.level-1})))])])]),t.investorParticipationNormalizedSum||t.ownerInvestmentNormalized?r("tr",[r("th",{staticClass:"has-text-centered",attrs:{colspan:2}},[r("progress",{staticClass:"progress is-success",staticStyle:{"margin-bottom":"0"},attrs:{max:t.result.cost},domProps:{value:t.investorParticipationNormalizedSum+t.ownerInvestmentNormalized}}),r("p",[t._v(t._s(t.$formatNumber(t.investorParticipationNormalizedSum+t.ownerInvestmentNormalized)+"/"+t.$formatNumber(t.result.cost))+" ("+t._s(t.$formatNumber(t.result.cost-(t.investorParticipationNormalizedSum+t.ownerInvestmentNormalized)))+")")])])]):t._e()]),r("tbody",[t._l(t.result.investment.concat(t.showExtraInvestors?t.result.otherInvestment:[]),(function(e,o){return[r("tr",{staticClass:"tableDataPlace"},[r("th",[t._v(t._s(t.$t(t.i18nPrefix+"gb_investment.table.thead.th1")))]),r("td",{staticClass:"has-text-right"},[t._v(t._s(t.$formatNumber(o+1)))])]),o<t.result.investment.length?r("tr",{staticClass:"tableDataDefaultRewards"},[r("th",[t._v(t._s(t.$t(t.$data.i18nPrefix+"gb_investment.table.thead.th2")))]),r("td",{staticClass:"has-text-right"},[t._v(t._s(t.$formatNumber(e.reward)))])]):t._e(),o<t.result.investment.length?r("tr",{staticClass:"tableDataFpToPutByTheOwner"},[r("th",[t._v(t._s(t.$t(t.$data.i18nPrefix+"gb_investment.table.thead.th3")))]),r("td",{staticClass:"has-text-right"},[e.preparation>0&&t.ownerInvestmentNormalized>0?r("p",[t._v(t._s(t.$formatNumber(e.preparation))+" ("),e.preparation-t.ownerInvestmentNormalized>0?[r("b-tooltip",{attrs:{type:t.$store.get("isDarkTheme")?"is-light":"is-dark",label:t.$t(t.i18nPrefix+"gb_investment.table.tbody.tooltip_owner_investment"),position:"is-left",dashed:""}},[r("span",{staticClass:"has-text-danger"},[t._v(t._s(t.$formatNumber(e.preparation-t.ownerInvestmentNormalized)))])])]:[r("span",{staticClass:"has-text-success"},[t._v(t._s(t.$t("utils.Secured")))])],t._v(")")],2):r("p",[t._v(t._s(t.$formatNumber(e.preparation))),0===e.preparation?[t._v(" ("),r("span",{staticClass:"has-text-success"},[t._v(t._s(t.$t("utils.Secured")))]),t._v(")")]:t._e()],2)])]):t._e(),o<t.result.investment.length?r("tr",{staticClass:"tableDataRewardsWithRate"},[r("th",[t._v(t._s(t.$t(t.$data.i18nPrefix+"gb_investment.table.thead.th4")))]),r("td",{staticClass:"has-text-right"},[t._v(t._s(t.$formatNumber(e.expectedParticipation)))])]):t._e(),t.investorParticipationNormalizedSum?r("tr",{staticClass:"tableDataNumberOfFPAlreadyIn"},[r("th",[t._v(t._s(t.$t(t.$data.i18nPrefix+"gb_investment.table.thead.fp_already_putin")))]),e.isInvestorParticipation?r("td",[r("p",[t._v(t._s(t.$formatNumber(e.participation)))])]):r("td",[r("p",[t._v("0"),e.participation>0?[t._v(" ("),r("b-tooltip",{attrs:{position:"is-left",type:t.$store.get("isDarkTheme")?"is-light":"is-dark",label:t.$t(t.i18nPrefix+"gb_investment.table.tbody.tooltip_expected_investment"),dashed:""}},[t._v(t._s(t.$formatNumber(e.participation)))]),t._v(")")]:t._e()],2)])]):t._e(),t.showSnipe&&o<t.result.investment.length?r("tr",{staticClass:"tableDataSpotSnipe"},[r("th",[t._v(t._s(t.$t(t.$data.i18nPrefix+"gb_investment.table.thead.spot_snipe")))]),r("td",[-1===e.snipe.fp?[t._m(7,!0)]:e.snipe.fp>0?r("p",{staticClass:"snipe fp"},[t._v(t._s(t.$formatNumber(e.snipe.fp))+" ("),e.snipe.roi>0?[t._m(8,!0),r("b-tooltip",{attrs:{position:"is-left",type:t.$store.get("isDarkTheme")?"is-light":"is-dark",label:t.$t(t.i18nPrefix+"gb_investment.table.tbody.profit",{count:Math.abs(e.roi)}),dashed:""}},[t._v(t._s(t.$formatNumber(Math.abs(e.snipe.roi))))])]:e.snipe.roi<0?[t._m(9,!0),r("b-tooltip",{attrs:{position:"is-left",type:t.$store.get("isDarkTheme")?"is-light":"is-dark",label:t.$t(t.i18nPrefix+"gb_investment.table.tbody.loss",{count:Math.abs(e.roi)}),dashed:""}},[t._v(t._s(t.$formatNumber(Math.abs(e.snipe.roi))))])]:r("b-tooltip",{attrs:{position:"is-left",type:t.$store.get("isDarkTheme")?"is-light":"is-dark",label:t.$t(t.i18nPrefix+"gb_investment.table.tbody.neutral"),dashed:""}},[r("span",{staticClass:"icon is-small",staticStyle:{"vertical-align":"middle"}},[r("i",{staticClass:"fas fa-exchange-alt"})])]),t._v(")")],2):t._e()],2)]):t._e(),o<t.result.investment.length?r("tr",{staticClass:"tableDataPercentageInvestors"},[r("th",[t._v(t._s(t.$t(t.$data.i18nPrefix+"gb_investment.table.thead.th5")))]),r("td",[r("b-field",{attrs:{type:t.haveError("investorPercentageCustom_"+o)}},[r("b-input",{attrs:{type:"number",min:"0",step:"0.1",name:"investorPercentageCustom_"+o,autocomplete:"off"},model:{value:t.investorPercentageCustom[o],callback:function(e){t.$set(t.investorPercentageCustom,o,t._n(e))},expression:"investorPercentageCustom[index]"}})],1)],1)]):t._e(),r("tr",{directives:[{name:"show",rawName:"v-show",value:t.investorParticipation.length>0,expression:"investorParticipation.length > 0"}],staticClass:"tableDataIsSniper",class:o>=t.result.investment.length?"last-in-card":""},[e.defaultParticipationIndex>=0?[r("th",[t._v(t._s(t.$t(t.$data.i18nPrefix+"gb_investment.table.thead.is_sniper")))]),r("td",[r("b-switch",{attrs:{value:t.investorParticipation[e.defaultParticipationIndex].isPotentialSniper,type:"is-info"},on:{input:function(r){return t.changeIsPotentialSniper(e.defaultParticipationIndex,r)}}},[t._v(t._s(t.investorParticipation[e.defaultParticipationIndex].isPotentialSniper?t.$t("utils.Yes"):t.$t("utils.No")))])],1)]:t._e()],2),o<t.result.investment.length?r("tr",{staticClass:"tableDataIncludeInCopyBoxes last-in-card"},[r("th",[t._v(t._s(t.$t(t.$data.i18nPrefix+"gb_investment.table.thead.th6")))]),r("td",[r("b-switch",{attrs:{value:t.placeFree[o].state,type:"is-info"},on:{input:function(e){return t.changePlaceFree(o,e)}}},[t._v(t._s(t.placeFree[o].state?t.$t("utils.Yes"):t.$t("utils.No")))])],1)]):t._e()]}))],2),r("tfoot",[r("tr",[r("th",{directives:[{name:"show",rawName:"v-show",value:t.result.otherInvestment.length,expression:"result.otherInvestment.length"}],staticClass:"has-text-centered",attrs:{colspan:t.nbColumns}},[r("p",{staticClass:"control has-text-centered"},[t.showExtraInvestors?r("button",{staticClass:"button is-info",on:{click:function(e){t.showExtraInvestors=!1}}},[t._m(11),t._v("   "+t._s(t.$t(t.i18nPrefix+"gb_investment.table.tbody.button_hide_extra_investor",{count:t.result.otherInvestment.length})))]):r("button",{staticClass:"button is-info",on:{click:function(e){t.showExtraInvestors=!0}}},[t._m(10),t._v("   "+t._s(t.$t(t.i18nPrefix+"gb_investment.table.tbody.button_show_extra_investor",{count:t.result.otherInvestment.length})))])])])]),r("tr",[r("th",[t._v(t._s(t.$t(t.$data.i18nPrefix+"gb_investment.table.tfoot.total_preparation")))]),r("td",[r("p",{staticClass:"level-right"},[t._v(t._s(t.$formatNumber(t.result.totalPreparations))),t.ownerInvestmentNormalized>0&&t.result.totalPreparations-t.ownerInvestmentNormalized>0?[t._v(" ("),r("b-tooltip",{attrs:{type:t.$store.get("isDarkTheme")?"is-light":"is-dark",label:t.$t(t.i18nPrefix+"gb_investment.table.tfoot.tooltip_owner_investment"),position:"is-left",dashed:""}},[r("span",{staticClass:"has-text-danger"},[t._v(t._s(t.$formatNumber(t.result.totalPreparations-t.ownerInvestmentNormalized)))])]),t._v(")")]:t._e()],2)])]),r("tr",[r("th",[t._v(t._s(t.$t(t.$data.i18nPrefix+"gb_investment.table.tfoot.level_cost")))]),r("td",[r("p",{staticClass:"level-right"},[t._v(t._s(t.$formatNumber(t.result.cost)))])])])])])])]):t._e(),r("div",{attrs:{id:"giPromotionMessage"}},[null!==t.result?r("h4",{staticClass:"title is-4 margin-top-one-em"},[t._v(t._s(t.$t(t.$data.i18nPrefix+"promotion.title")))]):t._e(),r("b-tabs",{attrs:{id:"giPromotionMessageTab",expanded:""},model:{value:t.promotionMessageTab,callback:function(e){t.promotionMessageTab=e},expression:"promotionMessageTab"}},[r("b-tab-item",{attrs:{label:t.$t(t.$data.i18nPrefix+"promotion.title")}},[r("div",{staticClass:"columns"},[r("div",{staticClass:"column is-half",attrs:{id:"pmPrefix"}},[r("b-field",{attrs:{label:t.$t("utils.Prefix"),"label-for":"giPrefix"}}),r("b-field",[r("b-input",{attrs:{id:"giPrefix",type:"text",name:"prefix",autocomplete:"off",placeholder:t.$t(t.$data.i18nPrefix+"promotion.prefix_placeholder"),expanded:""},model:{value:t.prefix,callback:function(e){t.prefix="string"==typeof e?e.trim():e},expression:"prefix"}}),r("p",{staticClass:"control"},[r("b-tooltip",{attrs:{type:t.$store.get("isDarkTheme")?"is-light":"is-dark",label:t.showPrefix?t.$t("utils.Hide"):t.$t("utils.Show")}},[r("button",{staticClass:"button copy",attrs:{title:t.showPrefix?t.$t("utils.Hide"):t.$t("utils.Show")},on:{click:function(e){return t.switchPrefix()}}},[r("span",{directives:[{name:"show",rawName:"v-show",value:t.showPrefix,expression:"showPrefix"}],staticClass:"icon"},[t._v("  "),r("i",{staticClass:"fas fa-eye"})]),r("span",{directives:[{name:"show",rawName:"v-show",value:!t.showPrefix,expression:"!showPrefix"}],staticClass:"icon"},[r("i",{staticClass:"fas fa-eye-slash"}),t._v("   ")])])])],1)],1)],1),r("div",{staticClass:"column is-half",attrs:{id:"pmSuffix"}},[r("b-field",{attrs:{label:t.$t("utils.Suffix"),"label-for":"giSuffix"}}),r("b-field",[r("b-input",{attrs:{id:"giSuffix",type:"text",name:"suffix",autocomplete:"off",placeholder:t.$t(t.$data.i18nPrefix+"promotion.suffix_placeholder"),expanded:""},model:{value:t.suffix,callback:function(e){t.suffix="string"==typeof e?e.trim():e},expression:"suffix"}}),r("p",{staticClass:"control"},[r("b-tooltip",{attrs:{type:t.$store.get("isDarkTheme")?"is-light":"is-dark",label:t.showSuffix?t.$t("utils.Hide"):t.$t("utils.Show")}},[r("button",{staticClass:"button copy",attrs:{title:t.showSuffix?t.$t("utils.Hide"):t.$t("utils.Show")},on:{click:t.switchSuffix}},[r("span",{directives:[{name:"show",rawName:"v-show",value:t.showSuffix,expression:"showSuffix"}],staticClass:"icon"},[t._v("  "),r("i",{staticClass:"fas fa-eye"})]),r("span",{directives:[{name:"show",rawName:"v-show",value:!t.showSuffix,expression:"!showSuffix"}],staticClass:"icon"},[r("i",{staticClass:"fas fa-eye-slash"}),t._v("   ")])])])],1)],1)],1)]),r("div",{staticClass:"columns"},[r("div",{staticClass:"column is-half"},[r("div",{staticClass:"columns"},[r("div",{staticClass:"column is-half",attrs:{id:"pmDisplayGbName"}},[r("yes-no",{attrs:{label:t.$t(t.$data.i18nPrefix+"gb_investment.display_gb_name")},model:{value:t.displayGbName,callback:function(e){t.displayGbName=e},expression:"displayGbName"}})],1),t.displayGbName||t.tutoMode?r("div",{staticClass:"column is-half",attrs:{id:"pmShortName"}},[r("yes-no",{attrs:{label:t.$t(t.$data.i18nPrefix+"gb_investment.use_short_name")},model:{value:t.shortName,callback:function(e){t.shortName=e},expression:"shortName"}})],1):t._e()])]),r("div",{staticClass:"column is-half"},[r("div",{staticClass:"columns"},[r("div",{staticClass:"column is-half",attrs:{id:"pmShowLevel"}},[r("yes-no",{attrs:{label:t.$t(t.$data.i18nPrefix+"gb_investment.show_level")},model:{value:t.showLevel,callback:function(e){t.showLevel=e},expression:"showLevel"}})],1),r("div",{staticClass:"column is-half",attrs:{id:"pmShowOnlySecuredPlaces"}},[r("yes-no",{attrs:{label:t.$t(t.i18nPrefix+"gb_investment.form.show_only_secured_places")},model:{value:t.showOnlySecuredPlaces,callback:function(e){t.showOnlySecuredPlaces=e},expression:"showOnlySecuredPlaces"}})],1)])])]),null!==t.result?r("div",[t._l(t.promotion,(function(e,i){return[t.promotionMessageList[t.promotionMessageList.map((function(t){return t.name})).indexOf(e.name)].config.customFields?t._l(t.getSplittedCustomFields(e.name),(function(line,e){return r("div",{staticClass:"columns"},t._l(line,(function(e,o){return r("div",{staticClass:"column is-half"},[r("b-field",{staticClass:"custom_field",attrs:{label:e.key,"label-for":"custom_field_"+e.key}}),r("b-field",[r("b-input",{attrs:{id:"custom_field_"+e.key,type:"text",placeholder:t.promotionMessageList[i].config.customFields[e.key].placeholder,name:"custom_field_"+e.key,autocomplete:"off",expanded:""},model:{value:t.promotionMessageList[i].config.customFields[e.key].value,callback:function(r){t.$set(t.promotionMessageList[i].config.customFields[e.key],"value","string"==typeof r?r.trim():r)},expression:"promotionMessageList[i].config.customFields[elt.key].value"}}),r("p",{staticClass:"control"},[r("b-tooltip",{attrs:{type:t.$store.get("isDarkTheme")?"is-light":"is-dark",label:t.promotionMessageList[i].config.customFields[e.key].show?t.$t("utils.Hide"):t.$t("utils.Show")}},[r("button",{staticClass:"button copy",attrs:{title:t.promotionMessageList[i].config.customFields[e.key].show?t.$t("utils.Hide"):t.$t("utils.Show")},on:{click:function(r){t.promotionMessageList[i].config.customFields[e.key].show=!t.promotionMessageList[i].config.customFields[e.key].show}}},[r("span",{directives:[{name:"show",rawName:"v-show",value:t.promotionMessageList[i].config.customFields[e.key].show,expression:"promotionMessageList[i].config.customFields[elt.key].show"}],staticClass:"icon"},[t._v("  "),r("i",{staticClass:"fas fa-eye"})]),r("span",{directives:[{name:"show",rawName:"v-show",value:!t.promotionMessageList[i].config.customFields[e.key].show,expression:"!promotionMessageList[i].config.customFields[elt.key].show"}],staticClass:"icon"},[r("i",{staticClass:"fas fa-eye-slash"}),t._v("   ")])])])],1)],1)],1)})),0)})):t._e(),r("div",{staticClass:"columns"},[r("div",{staticClass:"column"},[r("b-field",[r("p",{staticClass:"control"},[r("b-tooltip",{attrs:{type:t.$store.get("isDarkTheme")?"is-light":"is-dark",label:t.$t("utils.Remove")}},[r("button",{staticClass:"button is-danger is-outlined",attrs:{title:t.$t("utils.Remove")},on:{click:function(e){return t.removePromotionMessage(i)}}},[r("span",{staticClass:"icon"},[r("i",{staticClass:"fas fa-trash"})])])])],1),r("b-input",{attrs:{type:t.nbMultiLine(e.message)?"textarea":"text",rows:t.nbMultiLine(e.message)?t.nbMultiLine(e.message):"",value:e.message,readonly:"",expanded:""}}),r("p",{staticClass:"control"},[r("b-tooltip",{attrs:{type:t.$store.get("isDarkTheme")?"is-light":"is-dark",label:t.$t("utils.Copyed"),active:e.active,always:""}},[r("button",{directives:[{name:"clipboard",rawName:"v-clipboard",value:e.message,expression:"value.message"}],staticClass:"button copy",attrs:{title:t.$t("utils.Copy")},on:{success:function(e){return t.successCopy(i)}}},[r("span",{staticClass:"icon"},[r("i",{staticClass:"far fa-copy"})]),t._v("  "+t._s(t.$t("utils.Copy")))])])],1)],1)],1)])]}))],2):t._e(),r("div",{staticClass:"columns"},[r("div",{staticClass:"column"},[r("b-field",{attrs:{id:"pmAddMessage"}},[r("b-select",{attrs:{id:"pmbTemplateToAdd",name:"templateToAdd",autocomplete:"off",expanded:""},model:{value:t.templateToAdd,callback:function(e){t.templateToAdd="string"==typeof e?e.trim():e},expression:"templateToAdd"}},[r("optgroup",{attrs:{label:t.$t("components.promotion_message_builder.templates.default")}},t._l(t.promotionMessageTemplates.default,(function(template){return r("option",{key:template.name,domProps:{value:template.name}},[t._v(t._s(template.name)+": "+t._s(t.getTemplateSample(template.config)))])})),0),t.promotionMessageTemplates.custom.length?r("optgroup",{attrs:{label:t.$t("components.promotion_message_builder.templates.custom")}},t._l(t.promotionMessageTemplates.custom,(function(template){return r("option",{key:template.name,domProps:{value:template.name}},[t._v(t._s(template.name)+": "+t._s(t.getTemplateSample(template.config)))])})),0):t._e()]),r("p",{staticClass:"control"},[r("button",{staticClass:"button is-info",attrs:{title:t.$t("utils.Add"),disabled:t.maxInvestment<=0},on:{click:t.addPromotionMessageTemplate}},[r("span",{staticClass:"icon"},[r("i",{staticClass:"fas fa-plus"})]),t._v("  "+t._s(t.$t("utils.Add")))])])],1)],1)])]),r("b-tab-item",{attrs:{label:t.$t("components.import_promotion_message.title")}},[r("ImportPromotionMessage")],1),r("b-tab-item",{attrs:{label:t.$t("components.promotion_message_builder.title")}},[r("PromotionMessageBuilder")],1)],1)],1),t.result?r("div",{staticStyle:{"margin-top":"2rem"}},[r("secure-position",{attrs:{levelData:t.result,ns:"gbi",customYourArcBonus:t.getCustomArcBonus,canCustomYourArcBonus:t.showSnipe},on:{customYourArcBonus:function(e){t.yourArcBonus=e}}})],1):t._e()]:[r("ContentLoader",{attrs:{speed:2,width:525,height:420,viewBox:"0 0 525 420",backgroundColor:"#eaeced",foregroundColor:"#ffffff"}},[r("rect",{attrs:{x:"25",y:"15",rx:"5",ry:"5",width:"220",height:"10"}}),r("rect",{attrs:{x:"25",y:"45",rx:"5",ry:"5",width:"220",height:"10"}}),r("rect",{attrs:{x:"285",y:"45",rx:"5",ry:"5",width:"220",height:"10"}}),r("rect",{attrs:{x:"285",y:"15",rx:"5",ry:"5",width:"220",height:"10"}}),r("rect",{attrs:{x:"25",y:"75",rx:"0",ry:"0",width:"480",height:"45"}}),r("rect",{attrs:{x:"25",y:"75",rx:"0",ry:"0",width:"2",height:"327"}}),r("rect",{attrs:{x:"505",y:"75",rx:"0",ry:"0",width:"2",height:"327"}}),r("rect",{attrs:{x:"35",y:"140",rx:"5",ry:"5",width:"68",height:"15"}}),r("rect",{attrs:{x:"113",y:"140",rx:"5",ry:"5",width:"68",height:"15"}}),r("rect",{attrs:{x:"191",y:"140",rx:"5",ry:"5",width:"68",height:"15"}}),r("rect",{attrs:{x:"269",y:"140",rx:"5",ry:"5",width:"68",height:"15"}}),r("rect",{attrs:{x:"347",y:"140",rx:"5",ry:"5",width:"68",height:"15"}}),r("rect",{attrs:{x:"425",y:"140",rx:"5",ry:"5",width:"68",height:"15"}}),r("rect",{attrs:{x:"25",y:"175",rx:"0",ry:"0",width:"480",height:"2"}}),r("rect",{attrs:{x:"35",y:"195",rx:"5",ry:"5",width:"68",height:"15"}}),r("rect",{attrs:{x:"113",y:"195",rx:"5",ry:"5",width:"68",height:"15"}}),r("rect",{attrs:{x:"191",y:"195",rx:"5",ry:"5",width:"68",height:"15"}}),r("rect",{attrs:{x:"269",y:"195",rx:"5",ry:"5",width:"68",height:"15"}}),r("rect",{attrs:{x:"347",y:"195",rx:"5",ry:"5",width:"68",height:"15"}}),r("rect",{attrs:{x:"425",y:"195",rx:"5",ry:"5",width:"68",height:"15"}}),r("rect",{attrs:{x:"25",y:"230",rx:"0",ry:"0",width:"480",height:"2"}}),r("rect",{attrs:{x:"35",y:"250",rx:"5",ry:"5",width:"68",height:"15"}}),r("rect",{attrs:{x:"113",y:"250",rx:"5",ry:"5",width:"68",height:"15"}}),r("rect",{attrs:{x:"191",y:"250",rx:"5",ry:"5",width:"68",height:"15"}}),r("rect",{attrs:{x:"269",y:"250",rx:"5",ry:"5",width:"68",height:"15"}}),r("rect",{attrs:{x:"347",y:"250",rx:"5",ry:"5",width:"68",height:"15"}}),r("rect",{attrs:{x:"425",y:"250",rx:"5",ry:"5",width:"68",height:"15"}}),r("rect",{attrs:{x:"25",y:"285",rx:"0",ry:"0",width:"480",height:"2"}}),r("rect",{attrs:{x:"35",y:"305",rx:"5",ry:"5",width:"68",height:"15"}}),r("rect",{attrs:{x:"113",y:"305",rx:"5",ry:"5",width:"68",height:"15"}}),r("rect",{attrs:{x:"191",y:"305",rx:"5",ry:"5",width:"68",height:"15"}}),r("rect",{attrs:{x:"269",y:"305",rx:"5",ry:"5",width:"68",height:"15"}}),r("rect",{attrs:{x:"347",y:"305",rx:"5",ry:"5",width:"68",height:"15"}}),r("rect",{attrs:{x:"425",y:"305",rx:"5",ry:"5",width:"68",height:"15"}}),r("rect",{attrs:{x:"25",y:"340",rx:"0",ry:"0",width:"480",height:"2"}}),r("rect",{attrs:{x:"35",y:"365",rx:"5",ry:"5",width:"68",height:"15"}}),r("rect",{attrs:{x:"113",y:"365",rx:"5",ry:"5",width:"68",height:"15"}}),r("rect",{attrs:{x:"191",y:"365",rx:"5",ry:"5",width:"68",height:"15"}}),r("rect",{attrs:{x:"269",y:"365",rx:"5",ry:"5",width:"68",height:"15"}}),r("rect",{attrs:{x:"347",y:"365",rx:"5",ry:"5",width:"68",height:"15"}}),r("rect",{attrs:{x:"425",y:"365",rx:"5",ry:"5",width:"68",height:"15"}}),r("rect",{attrs:{x:"25",y:"400",rx:"0",ry:"0",width:"480",height:"2"}})])]],2)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon is-small has-text-success",staticStyle:{"vertical-align":"middle"}},[e("i",{staticClass:"fas fa-arrow-up"}),this._v(" ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon is-small has-text-danger",staticStyle:{"vertical-align":"middle"}},[e("i",{staticClass:"fas fa-arrow-down"}),this._v(" ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon is-small",staticStyle:{"vertical-align":"middle"}},[e("i",{staticClass:"fas fa-lock"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon is-small has-text-success",staticStyle:{"vertical-align":"middle"}},[e("i",{staticClass:"fas fa-arrow-up"}),this._v(" ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon is-small has-text-danger",staticStyle:{"vertical-align":"middle"}},[e("i",{staticClass:"fas fa-arrow-down"}),this._v(" ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon"},[e("i",{staticClass:"fas fa-eye"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon"},[e("i",{staticClass:"fas fa-eye-slash"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon is-small",staticStyle:{"vertical-align":"middle"}},[e("i",{staticClass:"fas fa-lock"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon is-small has-text-success",staticStyle:{"vertical-align":"middle"}},[e("i",{staticClass:"fas fa-arrow-up"}),this._v(" ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon is-small has-text-danger",staticStyle:{"vertical-align":"middle"}},[e("i",{staticClass:"fas fa-arrow-down"}),this._v(" ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon"},[e("i",{staticClass:"fas fa-eye"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon"},[e("i",{staticClass:"fas fa-eye-slash"})])}],!1,null,null,null);e.a=W.exports},571:function(t,e,r){"use strict";var o,n=r(2),l=r(3),c=r(417),m=r(443),d=r(70),h=r(5),f={from:"gbi_f",to:"gbi_t",yourArcBonus:"gbi_yab",takingPlaceInConsideration:"gbi_tpic",showPlace:"gbi_sp",customPercentage:"gbi_cp",investorPercentageGlobal:"gbi_ipg",investorPercentageCustom:"gbi_pc"},v=0,_={from:{comparator:[">=",1],type:"int"},to:{comparator:[">=",1],type:"int"},yourArcBonus:{comparator:[">=",0],type:"float"},takingPlaceInConsideration:{comparator:[0,2],type:"int"},investorPercentageGlobal:{comparator:[">=",0],type:"float"},investorPercentageCustom:{comparator:[">=",0],type:"float"}},$={name:"GbInvestmentInvestors",props:{gb:{type:Object,required:!0},canPermalink:{type:Boolean,default:!1}},data:function(){var t=this.$props.gb.levels.length,data={i18nPrefix:"components.gb_investment_investors.",yourArcBonus:this.$clone(this.$store.get("profile/profiles@".concat(this.$store.get("global/currentProfile"),".yourArcBonus"))),investorPercentageGlobal:this.$clone(this.$store.get("profile/profiles@".concat(this.$store.get("global/currentProfile"),".gb.").concat(this.$route.params.gb,".investorView.investorPercentageGlobal"))),investorPercentageCustom:this.$clone(this.$store.get("profile/profiles@".concat(this.$store.get("global/currentProfile"),".gb.").concat(this.$route.params.gb,".investorView.investorPercentageCustom"))),customPercentage:this.$clone(this.$store.get("profile/profiles@".concat(this.$store.get("global/currentProfile"),".gb.").concat(this.$route.params.gb,".investorView.customPercentage"))),result:null,maxLevel:t,from:this.$clone(this.$store.get("profile/profiles@".concat(this.$store.get("global/currentProfile"),".gb.").concat(this.$route.params.gb,".investorView.from"))),to:this.$clone(this.$store.get("profile/profiles@".concat(this.$store.get("global/currentProfile"),".gb.").concat(this.$route.params.gb,".investorView.to"))),maxConsideration:3,takingPlaceInConsideration:this.$clone(this.$store.get("profile/profiles@".concat(this.$store.get("global/currentProfile"),".gb.").concat(this.$route.params.gb,".investorView.takingPlaceInConsideration"))),showPlace:this.$clone(this.$store.get("profile/profiles@".concat(this.$store.get("global/currentProfile"),".gb.").concat(this.$route.params.gb,".investorView.showPlace"))),errors:{from:!1,to:!1,yourArcBonus:!1,percentageValueGlobal:!1,takingPlaceInConsideration:!1}};return Object.assign(data,this.checkQuery(data.maxLevel,data.from,data.to,data.customPercentage)),this.$store.commit("ADD_URL_QUERY",{key:f.from,value:data.from,ns:"gbii"}),this.$store.commit("ADD_URL_QUERY",{key:f.to,value:data.to,ns:"gbii"}),this.$store.commit("ADD_URL_QUERY",{key:f.yourArcBonus,value:data.yourArcBonus,ns:"gbii"}),this.$store.commit("ADD_URL_QUERY",{key:f.investorPercentageGlobal,value:data.investorPercentageGlobal,ns:"gbii"}),this.$store.commit("ADD_URL_QUERY",{key:f.cp,value:data.customPercentage?1:0,ns:"gbii"}),this.$store.commit("ADD_URL_QUERY",{key:f.takingPlaceInConsideration,value:data.takingPlaceInConsideration,ns:"gbii"}),this.$store.commit("ADD_URL_QUERY",{key:f.showPlace,value:JSON.stringify(data.showPlace),ns:"gbii"}),o=this.$clone(data.investorPercentageCustom),data},computed:{fromInput:{get:function(){return this.normalizedFrom()-1},set:function(t){this.checkFrom(t+1),v=t+1}},isPermalink:Object(h.b)("isPermalink"),permaLink:function(){return{name:"GbInvestment",params:{gb:this.gb.key},query:this.$store.getters.getUrlQuery("gbii")}}},watch:{from:function(t,e){t&&"number"!=typeof t&&t.length>0?this.$data.errors.from=!0:l.a.handlerForm(this,"from",t&&0!==t.length?t:1,e,[1,this.normalizedTo()],!this.isPermalink,"profiles@".concat(this.$store.get("global/currentProfile"),".gb.").concat(this.$route.params.gb,".investorView.from"))===l.a.FormCheck.VALID&&(this.$store.commit("UPDATE_URL_QUERY",{key:f.from,value:t,ns:"gbii"}),this.updateGlobalProfitLoss())},to:function(t,e){t&&"number"!=typeof t&&t.length>0?this.$data.errors.to=!0:l.a.handlerForm(this,"to",t&&0!==t.length?t:0,e,[this.normalizedFrom(),this.$data.maxLevel],!this.isPermalink,"profiles@".concat(this.$store.get("global/currentProfile"),".gb.").concat(this.$route.params.gb,".investorView.to"))===l.a.FormCheck.VALID&&(this.$data.errors.from&&this.checkFrom(v)&&(this.$data.errors.from=!1),this.$store.commit("UPDATE_URL_QUERY",{key:f.to,value:t,ns:"gbii"}),this.updateGlobalProfitLoss())},takingPlaceInConsideration:function(t,e){l.a.handlerForm(this,"takingPlaceInConsideration",0===t.length?0:t,e,_.takingPlaceInConsideration.comparator,!this.isPermalink,"profiles@".concat(this.$store.get("global/currentProfile"),".gb.").concat(this.$route.params.gb,".investorView.takingPlaceInConsideration"))===l.a.FormCheck.VALID&&(this.$store.commit("UPDATE_URL_QUERY",{key:f.takingPlaceInConsideration,value:t,ns:"gbii"}),this.compute())},yourArcBonus:function(t,e){t&&"number"!=typeof t&&t.length>0||l.a.handlerForm(this,"yourArcBonus",t&&0!==t.length?t:0,e,_.yourArcBonus.comparator,!this.isPermalink,"profiles@".concat(this.$store.get("global/currentProfile"),".yourArcBonus"),_.yourArcBonus.type)===l.a.FormCheck.VALID&&(this.$store.commit("UPDATE_URL_QUERY",{key:f.yourArcBonus,value:t,ns:"gbii"}),this.compute())},investorPercentageGlobal:function(t,e){if(!(t&&"number"!=typeof t&&t.length>0)&&l.a.handlerForm(this,"investorPercentageGlobal",t&&0!==t.length?t:0,e,[">=",0],!this.isPermalink,"profiles@".concat(this.$store.get("global/currentProfile"),".gb.").concat(this.$route.params.gb,".investorView.investorPercentageGlobal"),"float")===l.a.FormCheck.VALID){this.$store.commit("UPDATE_URL_QUERY",{key:f.investorPercentageGlobal,value:t,ns:"gbii"});for(var r=0;r<this.$data.investorPercentageCustom.length;r++)this.$store.commit("UPDATE_URL_QUERY",{key:f.investorPercentageCustom+(r+1),value:t,ns:"gbii"}),this.$data.investorPercentageCustom[r]=t;this.compute()}},investorPercentageCustom:function(t){for(var e=l.a.FormCheck.VALID,r=0;r<t.length;r++){if("number"!=typeof t[r])return;l.a.handlerForm(this,"investorPercentageCustom_"+r,0===t[r].length?0:t[r],o[r],[">=",0],!1,"","float")===l.a.FormCheck.INVALID&&(e=l.a.FormCheck.INVALID)}if(e===l.a.FormCheck.VALID){o=JSON.parse(JSON.stringify(t));for(var n=0;n<t.length;n++)this.$store.commit("UPDATE_URL_QUERY",{key:f.investorPercentageCustom+(n+1),value:t[n],ns:"gbii"});this.isPermalink||this.$store.set("profile/profiles@".concat(this.$store.get("global/currentProfile"),".gb.").concat(this.$route.params.gb,".investorView.investorPercentageCustom"),this.$clone(l.a.normalizeNumberArray(t,this.$data.investorPercentageGlobal))),this.compute()}},customPercentage:function(t){this.$store.commit("UPDATE_URL_QUERY",{key:f.customPercentage,value:t?1:0,ns:"gbii"}),this.isPermalink||this.$store.set("profile/profiles.".concat(this.$store.get("global/currentProfile"),".gb.").concat(this.$route.params.gb,".investorView.customPercentage"),t);for(var i=0;i<5;i++)this.$data.investorPercentageCustom[i]=l.a.normalizeNumberValue(this.$data.investorPercentageGlobal),this.$store.commit("UPDATE_URL_QUERY",{key:f.investorPercentageCustom+(i+1),value:this.$data.investorPercentageCustom[i],ns:"gbii"})},showPlace:function(t){this.$store.commit("UPDATE_URL_QUERY",{key:f.showPlace,value:JSON.stringify(t),ns:"gbii"}),this.isPermalink||this.$store.set("profile/profiles@".concat(this.$store.get("global/currentProfile"),".gb.").concat(this.$route.params.gb,".investorView.showPlace"),this.$clone(l.a.normalizeBooleanArray(t)))}},methods:{normalizedFrom:function(){return l.a.normalizeNumberValue(this.$data.from,1)},normalizedTo:function(){return l.a.normalizeNumberValue(this.$data.to,1)},goTo:function(t){this.$router.push("/gb-investment/".concat(t,"/"))},haveError:function(t){return this.$data.errors[t]?"is-danger":""},checkFrom:function(t){return 0===t.length?(n.a.set(this.$data.errors,"from",!0),!1):l.a.handlerForm(this,"from",t,this.normalizedFrom(),[1,this.normalizedTo()])===l.a.FormCheck.VALID&&(n.a.set(this.$data.errors,"from",!1),n.a.set(this.$data,"from",t),!0)},checkQuery:function(t,e,r,o){var n,c=["from","to","investorPercentageCustom"],m={},d=l.a.FormCheck.NO_CHANGE,h=Array.apply(null,Array(5)).map((function(){return 80})),v=e,$=r,y=0,P=o;for(var x in _)c.indexOf(x)>=0||(n=l.a.checkFormNumeric(this.$route.query[f[x]],-1,_[x].comparator,_[x].type)).state===l.a.FormCheck.VALID&&(d=l.a.FormCheck.VALID,m[x]=n.value);if(this.$route.query[f.from]&&!isNaN(this.$route.query[f.from])&&parseInt(this.$route.query[f.from])>=1&&(y++,v=parseInt(this.$route.query[f.from])),this.$route.query[f.to]&&!isNaN(this.$route.query[f.to])&&parseInt(this.$route.query[f.to])>=1&&(y++,$=parseInt(this.$route.query[f.to])),y>0&&v<=$&&(d=l.a.FormCheck.VALID,m.from=v,m.to=$),this.$route.query[f.customPercentage]&&!isNaN(this.$route.query[f.customPercentage])&&parseInt(this.$route.query[f.customPercentage])>=0&&(d=l.a.FormCheck.VALID,m.customPercentage=1===parseInt(this.$route.query[f.customPercentage]),P=m.customPercentage),P)for(var i=0;i<5;i++)(n=l.a.checkFormNumeric(this.$route.query[f.investorPercentageCustom+(i+1)],-1,_.investorPercentageCustom.comparator,_.investorPercentageCustom.type)).state===l.a.FormCheck.VALID&&(d=l.a.FormCheck.VALID,h[i]=n.value);if(d===l.a.FormCheck.VALID&&(this.$store.set("isPermalink",!0),m.investorPercentageCustom=h),this.$route.query[f.showPlace]){var w=JSON.parse(this.$route.query[f.showPlace]);w instanceof Array&&(m.showPlace=l.a.normalizeBooleanArray(w))}return d===l.a.FormCheck.VALID&&(this.$store.set("isPermalink",!0),m.change=!0),m},updateGlobalProfitLoss:function(){var t=this;this.$data.result.globalProfitLoss=[];for(var e=this.$data.result.slice(this.$data.from-1,this.$data.to),r=function(i){t.$data.result.globalProfitLoss.push(e.map((function(t){return t.investment[i].roi})).reduce((function(i,t){return i+t}),0))},i=0;i<5;i++)r(i)},compute:function(){for(var t=this,e=[],i=0;i<this.$props.gb.levels.length;i++){for(var r=2===this.$data.takingPlaceInConsideration?l.a.normalizeNumberArray(this.$data.investorPercentageCustom):Array.apply(null,Array(5)).map((function(){return t.$data.yourArcBonus})),o=Object.assign(JSON.parse(JSON.stringify(this.$props.gb.levels[i])),c.a.ComputeLevelInvestment(i+1,r,this.$props.gb.levels)),m=0,d=0;d<o.investment.length;d++){if(d>0)switch(this.$data.takingPlaceInConsideration){case 0:break;case 1:m+=o.investment[d-1].fp;break;case 2:m+=o.investment[d-1].preparation+o.investment[d-1].participation}2===this.$data.takingPlaceInConsideration?(o.investment[d].realParticipation=Math.round(o.investment[d].reward*(1+this.$data.yourArcBonus/100)),o.investment[d].roi=Math.round(o.investment[d].reward*(1+this.$data.yourArcBonus/100))-o.investment[d].expectedParticipation):o.investment[d]=Object.assign(o.investment[d],c.a.ComputeSecurePlace(o.cost,m,0,0,l.a.normalizeNumberValue(this.$data.yourArcBonus),o.reward[d]))}e.push(o)}n.a.set(this.$data,"result",e),this.updateGlobalProfitLoss()}},mounted:function(){this.compute()},components:{gbListSelect:m.a,YesNo:d.a}},y=r(14),component=Object(y.a)($,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"content"},[r("div",{staticClass:"columns"},[r("div",{staticClass:"column is-half"},[r("div",{staticClass:"field"},[r("h3",{staticClass:"title is-3"},[t._v(t._s(t.$t("foe_data.gb."+t.gb.key)))])]),r("div",{staticClass:"field"},[r("gb-list-select",{attrs:{current:t.gb.key},on:{change:function(e){return t.goTo(e)}}})],1)]),r("div",{directives:[{name:"show",rawName:"v-show",value:t.canPermalink,expression:"canPermalink"}],staticClass:"column is-half"},[r("div",{staticClass:"field"},[r("nuxt-link",{staticClass:"level-right",attrs:{id:"permalink",to:t.permaLink,exact:""}},[r("span",{staticClass:"icon"},[r("i",{staticClass:"fas fa-link"})]),t._v(" "+t._s(t.$t("utils.permalink")))])],1)])]),r("h4",{staticClass:"title is-4"},[t._v(t._s(t.$t("routes.gb_investment_gb_chooser.hero.title")))]),r("p",[t._v(t._s(t.$t(t.$data.i18nPrefix+"description.p1",{count:t.maxConsideration})))]),r("p",[r("b",[t._v(t._s(t.$t(t.$data.i18nPrefix+"takingPlaceInConsideration.form.no")))]),t._v(" "+t._s(t.$t(t.$data.i18nPrefix+"takingPlaceInConsideration.description.no")))]),r("p",[r("b",[t._v(t._s(t.$t(t.$data.i18nPrefix+"takingPlaceInConsideration.form.normal")))]),t._v(" "+t._s(t.$t(t.$data.i18nPrefix+"takingPlaceInConsideration.description.normal")))]),r("p",[r("b",[t._v(t._s(t.$t(t.$data.i18nPrefix+"takingPlaceInConsideration.form.optimal")))]),t._v(" "+t._s(t.$t(t.$data.i18nPrefix+"takingPlaceInConsideration.description.optimal")))]),r("div",{staticClass:"columns"},[r("div",{staticClass:"column is-half"},[r("b-field",{attrs:{label:t.$t("utils.From"),"label-for":"previsionFrom",type:t.haveError("from")}},[r("b-input",{attrs:{id:"previsionFrom",type:"number",min:"0",max:t.to-1,name:"previsionFrom",autocomplete:"off"},model:{value:t.fromInput,callback:function(e){t.fromInput=t._n(e)},expression:"fromInput"}})],1)],1),r("div",{staticClass:"column is-half"},[r("b-field",{attrs:{label:t.$t("utils.To",{max:t.maxLevel}),"label-for":"previsionTo",type:t.haveError("to")}},[r("b-input",{attrs:{id:"previsionTo",type:"number",min:t.from,max:t.maxLevel,name:"previsionTo",autocomplete:"off"},model:{value:t.to,callback:function(e){t.to=t._n(e)},expression:"to"}})],1)],1)]),r("div",{staticClass:"columns"},[r("div",{staticClass:"column is-half"},[r("b-field",{attrs:{label:t.$t("components.secure_position.block_place.your_arc_bonus"),"label-for":"giiYourArcBonus",type:t.haveError("yourArcBonus")}},[r("b-input",{attrs:{id:"giiYourArcBonus",type:"number",min:"0",step:"0.1",name:"your-arc-bonus",autocomplete:"off"},model:{value:t.yourArcBonus,callback:function(e){t.yourArcBonus=t._n(e)},expression:"yourArcBonus"}})],1)],1)]),r("div",{directives:[{name:"show",rawName:"v-show",value:2===t.takingPlaceInConsideration,expression:"takingPlaceInConsideration === 2"}],staticClass:"columns"},[r("div",{staticClass:"column is-half"},[r("yes-no",{attrs:{label:t.$t("components.gb_forecast_cost.custom_percentage")},model:{value:t.customPercentage,callback:function(e){t.customPercentage=e},expression:"customPercentage"}})],1),r("div",{directives:[{name:"show",rawName:"v-show",value:!t.customPercentage,expression:"!customPercentage"}],staticClass:"column is-half"},[r("b-field",{attrs:{label:t.$t("components.gb_investment.gb_investment.form.investor_percentage"),"label-for":"previsionInvestorPercentageGlobal",type:t.haveError("investorPercentageGlobal")}},[r("b-input",{attrs:{id:"previsionInvestorPercentageGlobal",type:"number",min:"0",step:"0.1",name:"investorPercentageGlobal",autocomplete:"off"},model:{value:t.investorPercentageGlobal,callback:function(e){t.investorPercentageGlobal=t._n(e)},expression:"investorPercentageGlobal"}})],1)],1)]),r("div",{directives:[{name:"show",rawName:"v-show",value:2===t.takingPlaceInConsideration&&t.customPercentage,expression:"takingPlaceInConsideration === 2 && customPercentage"}],staticClass:"table-wrapper"},[r("table",{staticClass:"table is-bordered is-striped is-narrow is-fullwidth"},[r("thead",[r("tr",[r("th",[t._v(t._s(t.$t("components.gb_investment.gb_investment.table.thead.th1")))]),r("th",[t._v(t._s(t.$t("components.gb_investment.gb_investment.table.thead.th5")))])])]),r("tbody",t._l(5,(function(i){return r("tr",[r("td",{staticClass:"has-text-right"},[t._v(t._s(i))]),r("td",[r("b-field",{attrs:{type:t.haveError("investorPercentageCustom_"+i)}},[r("b-input",{attrs:{type:"number",min:"0",step:"0.1",name:"investorPercentageCustom_"+i,autocomplete:"off"},model:{value:t.investorPercentageCustom[i-1],callback:function(e){t.$set(t.investorPercentageCustom,i-1,t._n(e))},expression:"investorPercentageCustom[i - 1]"}})],1)],1)])})),0)])]),r("div",{staticClass:"columns"},[r("div",{staticClass:"column is-half"},[r("b-field",{attrs:{label:t.$t(t.i18nPrefix+"takingPlaceInConsideration.label"),type:t.haveError("takingPlaceInConsideration")}}),r("b-field",[r("div",{staticClass:"control"},[r("span",{ref:"button-no",staticClass:"button button-no",class:{"is-danger is-selected":0===t.takingPlaceInConsideration,"is-dark-light is-outlined":0!==t.takingPlaceInConsideration&&this.$store.get("isDarkTheme")},on:{click:function(e){t.takingPlaceInConsideration=0}}},[r("span",[t._v(t._s(t.$t(t.i18nPrefix+"takingPlaceInConsideration.form.no")))])])]),r("div",{staticClass:"control"},[r("span",{ref:"button-normal",staticClass:"button button-normal",class:{"is-info is-selected":1===t.takingPlaceInConsideration,"is-dark-light is-outlined":1!==t.takingPlaceInConsideration&&this.$store.get("isDarkTheme")},on:{click:function(e){t.takingPlaceInConsideration=1}}},[r("span",[t._v(t._s(t.$t(t.i18nPrefix+"takingPlaceInConsideration.form.normal")))])])]),r("div",{staticClass:"control"},[r("span",{ref:"button-optimal",staticClass:"button button-optimal",class:{"is-success is-selected":2===t.takingPlaceInConsideration,"is-dark-light is-outlined":2!==t.takingPlaceInConsideration&&this.$store.get("isDarkTheme")},on:{click:function(e){t.takingPlaceInConsideration=2}}},[r("span",[t._v(t._s(t.$t(t.i18nPrefix+"takingPlaceInConsideration.form.optimal")))])])])])],1),r("div",{staticClass:"column is-half"},[r("b-field",{attrs:{label:t.$t(t.i18nPrefix+"takingPlaceInConsideration.form.show_place")}}),r("div",{staticClass:"block"},[t._l(t.showPlace,(function(e,o){return[r("b-switch",{attrs:{type:"is-info"},model:{value:t.showPlace[o],callback:function(e){t.$set(t.showPlace,o,e)},expression:"showPlace[index]"}},[t._v(t._s(o+1))])]}))],2)],1)]),r("div",{staticClass:"table-wrapper",staticStyle:{"overflow-y":"auto"}},[null!==t.result?r("table",{staticClass:"table is-bordered is-striped is-narrow is-fullwidth"},[r("thead",[r("tr",[r("th",{attrs:{rowspan:"2"}},[r("p",[t._v(t._s(t.$t("utils.graph.gb_level")))])]),r("th",{attrs:{rowspan:"2"}},[r("p",[t._v(t._s(t.$t("components.gb_investment.gb_investment.table.tfoot.level_cost")))])]),t._l(t.showPlace,(function(e,o){return[r("th",{directives:[{name:"show",rawName:"v-show",value:t.showPlace[o],expression:"showPlace[index]"}],attrs:{colspan:"3"}},[r("p",[t._v(t._s(t.$t(t.i18nPrefix+"table.thead.th_place",{count:o+1})))])])]}))],2),r("tr",[t._l(t.showPlace,(function(e,o){return[r("th",{directives:[{name:"show",rawName:"v-show",value:t.showPlace[o],expression:"showPlace[index]"}]},[r("p",[t._v(t._s(t.$t("utils.Rewards")))])]),r("th",{directives:[{name:"show",rawName:"v-show",value:t.showPlace[o],expression:"showPlace[index]"}]},[r("p",[t._v(t._s(t.$t("utils.Cost")))])]),r("th",{directives:[{name:"show",rawName:"v-show",value:t.showPlace[o],expression:"showPlace[index]"}]},[r("p",[t._v(t._s(t.$t(t.i18nPrefix+"table.thead.th_profit_loss")))])])]}))],2)]),r("tbody",t._l(t.result.slice(t.from-1,t.to),(function(line,e){return r("tr",[r("td",{staticClass:"has-text-right"},[r("p",[t._v(t._s(t.$formatNumber(e+t.from-1))+" → "+t._s(t.$formatNumber(e+t.from)))])]),r("td",{staticClass:"has-text-right"},[r("p",[t._v(t._s(t.$formatNumber(line.cost)))])]),t._l(t.showPlace,(function(e,o){return[r("td",{directives:[{name:"show",rawName:"v-show",value:t.showPlace[o],expression:"showPlace[index]"}],staticClass:"has-text-right"},[2===t.takingPlaceInConsideration?r("p",[t._v(t._s(t.$formatNumber(line.investment[o].reward)+" (")),r("b-tooltip",{attrs:{type:t.$store.get("isDarkTheme")?"is-light":"is-dark",label:t.$t("components.gb_investment.gb_investment.table.thead.expected_participation"),dashed:""}},[t._v(t._s(t.$formatNumber(line.investment[o].participation)))]),t._v(" | "),r("b-tooltip",{attrs:{type:t.$store.get("isDarkTheme")?"is-light":"is-dark",label:t.$t("components.gb_investment.gb_investment.table.thead.real_participation"),dashed:""}},[t._v(t._s(t.$formatNumber(line.investment[o].realParticipation)))]),t._v(")")],1):r("p",[t._v(t._s(t.$formatNumber(line.investment[o].reward)+" ("+t.$formatNumber(line.investment[o].participation)+")"))])]),r("td",{directives:[{name:"show",rawName:"v-show",value:t.showPlace[o],expression:"showPlace[index]"}],staticClass:"has-text-right"},[2===t.takingPlaceInConsideration?r("p",[t._v(t._s(t.$formatNumber(line.investment[o].participation)+" (")),r("b-tooltip",{attrs:{type:t.$store.get("isDarkTheme")?"is-light":"is-dark",label:t.$t("components.gb_investment.gb_investment.table.thead.th3"),dashed:""}},[t._v(t._s(t.$formatNumber(line.investment[o].preparation)))]),t._v(")")],1):r("p",[t._v(t._s(t.$formatNumber(line.investment[o].fp)))])]),r("td",{directives:[{name:"show",rawName:"v-show",value:t.showPlace[o],expression:"showPlace[index]"}],staticClass:"has-text-right"},[line.investment[o].roi>0?r("p",[t._m(0,!0),t._v(t._s(t.$formatNumber(Math.abs(line.investment[o].roi))))]):line.investment[o].roi<0?r("p",[t._m(1,!0),t._v(t._s(t.$formatNumber(Math.abs(line.investment[o].roi))))]):r("p",[t._m(2,!0)])])]}))],2)})),0),r("tfoot",[r("tr",[r("th",{attrs:{colspan:"2"}},[r("p",[t._v(t._s(t.$t(t.i18nPrefix+"table.thead.th_profit_loss")))])]),t._l(t.showPlace,(function(e,o){return[r("td",{directives:[{name:"show",rawName:"v-show",value:t.showPlace[o],expression:"showPlace[index]"}],staticClass:"has-text-right",attrs:{colspan:"3"}},[t.result.globalProfitLoss[o]>0?r("p",[t._m(3,!0),t._v(t._s(t.$formatNumber(Math.abs(t.result.globalProfitLoss[o]))))]):t.result.globalProfitLoss[o]<0?r("p",[t._m(4,!0),t._v(t._s(t.$formatNumber(Math.abs(t.result.globalProfitLoss[o]))))]):r("p",[t._m(5,!0)])])]}))],2)])]):t._e()])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon is-medium has-text-success",staticStyle:{"vertical-align":"middle"}},[e("i",{staticClass:"fas fa-arrow-up"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon is-medium has-text-danger",staticStyle:{"vertical-align":"middle"}},[e("i",{staticClass:"fas fa-arrow-down"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon is-medium",staticStyle:{"vertical-align":"middle"}},[e("i",{staticClass:"fas fa-exchange-alt"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon is-medium has-text-success",staticStyle:{"vertical-align":"middle"}},[e("i",{staticClass:"fas fa-arrow-up"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon is-medium has-text-danger",staticStyle:{"vertical-align":"middle"}},[e("i",{staticClass:"fas fa-arrow-down"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon is-medium",staticStyle:{"vertical-align":"middle"}},[e("i",{staticClass:"fas fa-exchange-alt"})])}],!1,null,null,null);e.a=component.exports},622:function(t,e,r){var o=r(374),n=r(814);t.exports={key:"Observatory",age:o.NoAge.key,levels:n}},623:function(t,e){function r(t,e){return Math.round(t/e)*e}t.exports={mround:r,generateReward:function(t){var e=[t];return e[e.length]=r(e[e.length-1]/2,5),e[e.length]=r(e[e.length-1]/3,5),e[e.length]=r(e[e.length-1]/4,5),e[e.length]=r(e[e.length-1]/5,5),e}}},814:function(t,e,r){var o=r(623).generateReward,n=r(815);t.exports=[{cost:50,reward:o(5)},{cost:70,reward:o(10)},{cost:130,reward:o(15)},{cost:200,reward:o(20)},{cost:270,reward:o(30)},{cost:330,reward:o(35)},{cost:420,reward:o(45)},{cost:490,reward:o(50)},{cost:570,reward:o(60)}].concat(n)},815:function(t,e,r){var o=r(623).generateReward;t.exports=[{cost:650,reward:o(65)},{cost:667,reward:o(75)},{cost:683,reward:o(85)},{cost:700,reward:o(95)},{cost:718,reward:o(100)},{cost:736,reward:o(110)},{cost:754,reward:o(120)},{cost:773,reward:o(130)},{cost:792,reward:o(140)},{cost:812,reward:o(150)},{cost:833,reward:o(155)},{cost:853,reward:o(165)},{cost:875,reward:o(175)},{cost:897,reward:o(185)},{cost:919,reward:o(195)},{cost:942,reward:o(205)},{cost:965,reward:o(215)},{cost:990,reward:o(225)},{cost:1014,reward:o(235)},{cost:1040,reward:o(245)},{cost:1066,reward:o(255)},{cost:1092,reward:o(265)},{cost:1120,reward:o(275)},{cost:1147,reward:o(285)},{cost:1176,reward:o(300)},{cost:1206,reward:o(310)},{cost:1236,reward:o(320)},{cost:1267,reward:o(330)},{cost:1298,reward:o(340)},{cost:1331,reward:o(350)},{cost:1364,reward:o(365)},{cost:1398,reward:o(375)},{cost:1433,reward:o(385)},{cost:1469,reward:o(395)},{cost:1505,reward:o(405)},{cost:1543,reward:o(420)},{cost:1582,reward:o(430)},{cost:1621,reward:o(440)},{cost:1662,reward:o(450)},{cost:1703,reward:o(465)},{cost:1746,reward:o(475)},{cost:1789,reward:o(485)},{cost:1834,reward:o(500)},{cost:1880,reward:o(510)},{cost:1927,reward:o(520)},{cost:1975,reward:o(535)},{cost:2025,reward:o(545)},{cost:2075,reward:o(555)},{cost:2127,reward:o(570)},{cost:2180,reward:o(580)},{cost:2235,reward:o(590)},{cost:2290,reward:o(605)},{cost:2348,reward:o(615)},{cost:2406,reward:o(630)},{cost:2467,reward:o(640)},{cost:2528,reward:o(650)},{cost:2591,reward:o(665)},{cost:2656,reward:o(675)},{cost:2723,reward:o(690)},{cost:2791,reward:o(700)},{cost:2860,reward:o(715)},{cost:2932,reward:o(725)},{cost:3005,reward:o(735)},{cost:3080,reward:o(750)},{cost:3157,reward:o(760)},{cost:3236,reward:o(775)},{cost:3317,reward:o(785)},{cost:3400,reward:o(800)},{cost:3485,reward:o(810)},{cost:3572,reward:o(825)},{cost:3661,reward:o(835)},{cost:3753,reward:o(850)},{cost:3847,reward:o(860)},{cost:3943,reward:o(875)},{cost:4041,reward:o(890)},{cost:4142,reward:o(900)},{cost:4246,reward:o(915)},{cost:4352,reward:o(925)},{cost:4461,reward:o(940)},{cost:4572,reward:o(950)},{cost:4687,reward:o(965)},{cost:4804,reward:o(975)},{cost:4924,reward:o(990)},{cost:5047,reward:o(1005)},{cost:5173,reward:o(1015)},{cost:5303,reward:o(1030)},{cost:5435,reward:o(1040)},{cost:5571,reward:o(1055)},{cost:5710,reward:o(1070)},{cost:5853,reward:o(1080)},{cost:5999,reward:o(1095)},{cost:6149,reward:o(1110)},{cost:6303,reward:o(1120)},{cost:6461,reward:o(1135)},{cost:6622,reward:o(1150)},{cost:6788,reward:o(1160)},{cost:6957,reward:o(1175)},{cost:7131,reward:o(1190)},{cost:7309,reward:o(1200)},{cost:7492,reward:o(1215)},{cost:7679,reward:o(1230)},{cost:7871,reward:o(1240)},{cost:8068,reward:o(1255)},{cost:8270,reward:o(1270)},{cost:8477,reward:o(1280)},{cost:8688,reward:o(1295)},{cost:8906,reward:o(1310)},{cost:9128,reward:o(1325)},{cost:9357,reward:o(1335)},{cost:9590,reward:o(1350)}]},816:function(t,e){var r=/^(attrs|props|on|nativeOn|class|style|hook)$/;function o(a,b){return function(){a&&a.apply(this,arguments),b&&b.apply(this,arguments)}}t.exports=function(t){return t.reduce((function(a,b){var t,e,n,l,c;for(n in b)if(t=a[n],e=b[n],t&&r.test(n))if("class"===n&&("string"==typeof t&&(c=t,a[n]=t={},t[c]=!0),"string"==typeof e&&(c=e,b[n]=e={},e[c]=!0)),"on"===n||"nativeOn"===n||"hook"===n)for(l in e)t[l]=o(t[l],e[l]);else if(Array.isArray(t))a[n]=t.concat(e);else if(Array.isArray(e))a[n]=[t].concat(e);else for(l in e)t[l]=e[l];else a[n]=b[n];return a}),{})}}}]);